
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sentiment Analysis — Workbook Solutions &#8212; Introduction to Cultural Analytics &amp; Python</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.5f77b4aec8189eecf79907ce328c390d.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/custom.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="canonical" href="https://melaniewalsh.github.io/Intro-Cultural-Analytics/05-Text-Analysis/Workbook-Solutions/02.5-Sentiment-Analysis-WORKBOOK-SOLUTIONS.html" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      <img src="../../_static/favicon.ico" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Cultural Analytics & Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  How To
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../How-To-Interact-With-This-Book.html">
   Interact With This Book
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  The Course
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../course-schedule-2021.html">
   Course Schedule
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  The Book
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../01-Command-Line/01-The-Command-Line.html">
   1. The Command Line
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../02-Python/00-Python.html">
   2. Python Basics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/01-Install-Python.html">
     Install Python &amp; Jupyter
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/02-How-to-Use-Jupyter-Notebooks.html">
     How to Use Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/03-Anatomy-Python-Script.html">
     Anatomy of a Python Script
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/04-Variables.html">
     Python Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/05-Data-Types.html">
     Python Data Types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/06-String-Methods.html">
     Python String Methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/07-Files-Character-Encoding.html">
     Files and Character Encoding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/08-Comparisons-Conditionals.html">
     Python Comparisons and Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/09-Lists-Loops-Part1.html">
     Python Lists and Loops
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/10-Lists-Loops-Part2.html">
     Python Lists and Loops (Cont.)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/11-Dictionaries.html">
     Python Dictionaries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/12-Functions.html">
     Python Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/13-Common-Python-Errors.html">
     Common Python Errors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02-Python/14-What-Were-Not-Covering.html">
     What We’re Not Covering
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../03-Data-Analysis/00-Data-Analysis.html">
   3. Data Analysis (Pandas)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03-Data-Analysis/01-Pandas-Basics-Part1.html">
     Pandas Basics — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03-Data-Analysis/02-Pandas-Basics-Part2.html">
     Pandas Basics — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03-Data-Analysis/03-Pandas-Basics-Part3.html">
     Pandas Basics — Part 3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../03-Data-Analysis/04-Pandas-Merge-Datasets.html">
     Pandas — Merge Datasets
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../04-Data-Collection/00-Data-Collection.html">
   4. Data Collection (Web Scraping, APIs, Social Media)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04-Data-Collection/01-User-Ethics-Legal-Concerns.html">
     Users’ Data: Legal &amp; Ethical Considerations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04-Data-Collection/02-Web-Scraping-Part1.html">
     Web Scraping — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04-Data-Collection/03-Web-Scraping-Part2.html">
     Web Scraping — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04-Data-Collection/04-Git-GitHub.html">
     Git and GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04-Data-Collection/05-What-Is-API.html">
     Application Programming Interfaces (APIs)
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../04-Data-Collection/06-Song-Genius.html">
     Song Genius Data
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../04-Data-Collection/07-Genius-API.html">
       Song Genius API
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../04-Data-Collection/08-Collect-Genius-Lyrics.html">
       Song Lyrics Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../04-Data-Collection/09-Lyrics-Analysis.html">
       Song Lyrics Analysis
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../04-Data-Collection/10-Twitter.html">
     Twitter Data
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../04-Data-Collection/11-Twitter-API-Setup.html">
       Twitter API Setup
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../04-Data-Collection/12-Twitter-Data.html">
       Twitter Data Collection &amp; Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../04-Data-Collection/13-Twitter-Data-Sharing.html">
       Twitter Data Sharing
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../04-Data-Collection/14-Reddit-Data.html">
     Reddit Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../00-Text-Analysis.html">
   5. Text Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../01-Multilingual-Text-Analysis.html">
     Working in Languages Beyond English
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../Multilingual/Chinese/00-Chinese.html">
       Chinese
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Chinese/01-Preprocessing-Chinese.html">
         Text Pre-Processing for Chinese
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Chinese/02-Named-Entity-Recognition-Chinese.html">
         Named Entity Recognition for Chinese
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Chinese/03-POS-Keywords-Chinese.html">
         Part-of-Speech Tagging for Chinese
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../Multilingual/Danish/00-Danish.html">
       Danish
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Danish/01-Preprocessing-Danish.html">
         Text Pre-Processing for Danish
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Danish/02-Named-Entity-Recognition-Danish.html">
         Named Entity Recognition for Danish
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Danish/03-POS-Keywords-Danish.html">
         Part-of-Speech Tagging for Danish
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../Multilingual/Portuguese/00-Portuguese.html">
       Portuguese
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Portuguese/01-Preprocessing-Portuguese.html">
         Text Pre-Processing for Portuguese
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Portuguese/02-Named-Entity-Recognition-Portuguese.html">
         Named Entity Recognition for Portuguese
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Portuguese/03-POS-Keywords-Portuguese.html">
         Part-of-Speech Tagging for Portuguese
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../Multilingual/Russian/00-Russian.html">
       Russian
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Russian/01-Preprocessing-Russian.html">
         Text Pre-Processing for Russian
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Russian/02-Named-Entity-Recognition-Russian.html">
         Named Entity Recognition for Russian
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Russian/03-POS-Keywords-Russian.html">
         Part-of-Speech Tagging for Russian
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../Multilingual/Spanish/00-Spanish.html">
       Spanish
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Spanish/01-Preprocessing-Spanish.html">
         Text Pre-Processing for Spanish
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Spanish/02-Named-Entity-Recognition-Spanish.html">
         Named Entity Recognition for Spanish
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../Multilingual/Spanish/03-POS-Keywords-Spanish.html">
         Part-of-Speech Tagging for Spanish
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../01-TF-IDF.html">
     Term-Frequency Inverse Document Frequency
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../02-TF-IDF-HathiTrust.html">
       With HathiTrust
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../03-TF-IDF-Scikit-Learn.html">
       With Scikit-Learn
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-Sentiment-Analysis.html">
     Sentiment Analysis
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../05-Topic-Modeling.html">
     Topic Modeling
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../06-Topic-Modeling-Overview.html">
       What is Topic Modeling?
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../07-Topic-Modeling-Set-Up.html">
       MALLET Set Up
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../08-Topic-Modeling-Text-Files.html">
       MALLET &amp; Text Files (NYT Articles)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../09-Topic-Modeling-Without-Mallet.html">
       Tomotopy &amp; Text Files (NYT Articles) - No Java required
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../10-Topic-Modeling-CSV.html">
       MALLET &amp; CSV Files (Reddit Posts)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../11-Topic-Modeling-Time-Series.html">
       MALLET &amp; Time Series (Tweets)
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../12-Named-Entity-Recognition.html">
     Named Entity Recognition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../13-POS-Keywords.html">
     Part-of-Speech Tagging
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../06-Network-Analysis/00-Network-Analysis.html">
   6. Network Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../06-Network-Analysis/01-Network-Analysis.html">
     Network Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../06-Network-Analysis/02-Making-Network-Viz-with-Bokeh.html">
     Make an Interactive Network Visualization
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../07-Mapping/00-Mapping.html">
   7. Mapping
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07-Mapping/01-Mapping.html">
     Mapping
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07-Mapping/02-Custom-Maps.html">
     Custom Map Backgrounds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../07-Mapping/03-Publish-Your-Map.html">
     Publish Your Map on the Web
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Datasets
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../00-Datasets/00-Datasets.html">
   Datasets
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/05-Text-Analysis/Workbook-Solutions/02.5-Sentiment-Analysis-WORKBOOK-SOLUTIONS.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/melaniewalsh/Intro-Cultural-Analytics"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/melaniewalsh/Intro-Cultural-Analytics/issues/new?title=Issue%20on%20page%20%2F05-Text-Analysis/Workbook-Solutions/02.5-Sentiment-Analysis-WORKBOOK-SOLUTIONS.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/melaniewalsh/Intro-Cultural-Analytics/master?urlpath=lab/tree/book/05-Text-Analysis/Workbook-Solutions/02.5-Sentiment-Analysis-WORKBOOK-SOLUTIONS.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Sentiment Analysis — Workbook Solutions
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#install-and-import-libraries-packages">
   Install and Import Libraries/Packages
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-sentiment-scores">
   Calculate Sentiment Scores
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#your-turn">
   Your Turn!
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-sentiment-scores-for-the-house-on-mango-street">
   Calculate Sentiment Scores for
   <em>
    The House on Mango Street
   </em>
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-and-import-nltk">
     Install and Import NLTK
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load-text-and-break-into-sentences">
     Load Text and Break Into Sentences
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculate-scores-for-each-sentence">
     Calculate Scores for Each Sentence
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#make-dataframe">
     Make DataFrame
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculate-sentiment-scores-by-chapter">
     Calculate Sentiment Scores By Chapter
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#make-a-plot-arc">
     Make a Plot Arc
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bar-chart">
       Bar Chart
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#line-chart">
       Line Chart
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Your Turn!
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="sentiment-analysis-workbook-solutions">
<h1>Sentiment Analysis — Workbook Solutions<a class="headerlink" href="#sentiment-analysis-workbook-solutions" title="Permalink to this headline">¶</a></h1>
<p>In this notebook, we’re going to learn how to use <a class="reference external" href="https://github.com/cjhutto/vaderSentiment">VADER</a> (Valence Aware Dictionary and sEntiment Reasoner), a sentiment analysis tool designed for social media. (Read the VADER paper <a class="reference external" href="https://www.aaai.org/ocs/index.php/ICWSM/ICWSM14/paper/view/8109/8122">here</a>.)</p>
<p>We’re going to see how well VADER works with our own sentences and with sentences from <em>The House on Mango Street</em>. Can we create an accurate plot arc of Sandra Cisneros’s coming-of-age novel?</p>
<p><em>Don’t forget to rename this notebook if you want to save changes!</em></p>
</div>
<hr class="docutils" />
<div class="section" id="install-and-import-libraries-packages">
<h1>Install and Import Libraries/Packages<a class="headerlink" href="#install-and-import-libraries-packages" title="Permalink to this headline">¶</a></h1>
<p>Import Pandas and set Pandas display column width to 400 characters</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">400</span>
</pre></div>
</div>
</div>
</div>
<p>Install <a class="reference external" href="https://github.com/cjhutto/vaderSentiment">vaderSentiment package</a> with pip</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install vaderSentiment
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting vaderSentiment
  Downloading vaderSentiment-3.3.2-py2.py3-none-any.whl (125 kB)
     |████████████████████████████████| 125 kB 2.8 MB/s eta 0:00:01
?25hRequirement already satisfied: requests in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from vaderSentiment) (2.23.0)
Requirement already satisfied: idna&lt;3,&gt;=2.5 in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from requests-&gt;vaderSentiment) (2.9)
Requirement already satisfied: certifi&gt;=2017.4.17 in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from requests-&gt;vaderSentiment) (2020.12.5)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,&lt;1.26,&gt;=1.21.1 in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from requests-&gt;vaderSentiment) (1.25.9)
Requirement already satisfied: chardet&lt;4,&gt;=3.0.2 in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from requests-&gt;vaderSentiment) (3.0.4)
Installing collected packages: vaderSentiment
Successfully installed vaderSentiment-3.3.2
<span class=" -Color -Color-Yellow">WARNING: You are using pip version 20.3.3; however, version 21.0.1 is available.</span>
<span class=" -Color -Color-Yellow">You should consider upgrading via the &#39;/Users/melaniewalsh/opt/anaconda3/bin/python3 -m pip install --upgrade pip&#39; command.</span>
</pre></div>
</div>
</div>
</div>
<p>Import the <code class="docutils literal notranslate"><span class="pre">SentimentIntensityAnalyser</span></code> and initlaize it</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">vaderSentiment.vaderSentiment</span> <span class="kn">import</span> <span class="n">SentimentIntensityAnalyzer</span>
<span class="n">sentimentAnalyser</span> <span class="o">=</span> <span class="n">SentimentIntensityAnalyzer</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculate-sentiment-scores">
<h1>Calculate Sentiment Scores<a class="headerlink" href="#calculate-sentiment-scores" title="Permalink to this headline">¶</a></h1>
<p>To calculate sentiment scores for a sentence or paragraph, we can use the <code class="docutils literal notranslate"><span class="pre">.polarity_scores()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.361, &#39;pos&#39;: 0.639, &#39;compound&#39;: 0.6486}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I don&#39;t like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.526, &#39;neu&#39;: 0.474, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.5334}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="s2">&quot;I don&#39;t *not* like the Marvel movies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.255, &#39;neu&#39;: 0.546, &#39;pos&#39;: 0.199, &#39;compound&#39;: -0.1307}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="your-turn">
<h1>Your Turn!<a class="headerlink" href="#your-turn" title="Permalink to this headline">¶</a></h1>
<p>Try out the <code class="docutils literal notranslate"><span class="pre">sentimentAnalyzer</span></code> on some sentences of your own!</p>
<p>Experiment with capitalization, punctuation, emojis, historical words, slangy language, poetry, or non-English words. How does VADER handle it? What does VADER seem to do well and not so well?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Your code here</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.361, &#39;pos&#39;: 0.639, &#39;compound&#39;: 0.6486}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Your code here</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculate-sentiment-scores-for-the-house-on-mango-street">
<h1>Calculate Sentiment Scores for <em>The House on Mango Street</em><a class="headerlink" href="#calculate-sentiment-scores-for-the-house-on-mango-street" title="Permalink to this headline">¶</a></h1>
<p>To calculate sentiment scores for <em>The House on Mango Street</em>, we first need a quick-and-easy way to break the novel up into sentences.</p>
<div class="section" id="install-and-import-nltk">
<h2>Install and Import NLTK<a class="headerlink" href="#install-and-import-nltk" title="Permalink to this headline">¶</a></h2>
<p>Install <a class="reference external" href="https://www.nltk.org/">NLTK</a>, a Python library for text analysis natural language processing</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install nltk
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: nltk in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (3.5)
Requirement already satisfied: click in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from nltk) (7.1.2)
Requirement already satisfied: regex in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from nltk) (2018.1.10)
Requirement already satisfied: joblib in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from nltk) (0.14.1)
Requirement already satisfied: tqdm in /Users/melaniewalsh/opt/anaconda3/lib/python3.7/site-packages (from nltk) (4.46.0)
<span class=" -Color -Color-Yellow">WARNING: You are using pip version 20.3.3; however, version 21.0.1 is available.</span>
<span class=" -Color -Color-Yellow">You should consider upgrading via the &#39;/Users/melaniewalsh/opt/anaconda3/bin/python3 -m pip install --upgrade pip&#39; command.</span>
</pre></div>
</div>
</div>
</div>
<p>Import nltk and download the model that will help us get sentences</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package punkt to
[nltk_data]     /Users/melaniewalsh/nltk_data...
[nltk_data]   Unzipping tokenizers/punkt.zip.
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-text-and-break-into-sentences">
<h2>Load Text and Break Into Sentences<a class="headerlink" href="#load-text-and-break-into-sentences" title="Permalink to this headline">¶</a></h2>
<p>Read in the text file for “Hairs”</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text_file</span> <span class="o">=</span> <span class="s2">&quot;../texts/literature/House-on-Mango-Street/02-Hairs.txt&quot;</span>
<span class="n">chapter</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">text_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>To break a string into individual sentences, we can use <code class="docutils literal notranslate"><span class="pre">nltk.sent_tokenize()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">chapter</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Hairs\n\nEverybody in our family has different hair.&#39;,
 &#39;My Papa’s hair is like a broom, all up in the air.&#39;,
 &#39;And me, my hair is lazy.&#39;,
 &#39;It never obeys barrettes or bands.&#39;,
 &#39;Carlos’ hair is thick and straight.&#39;,
 &#39;He doesn’t need to comb it.&#39;,
 &#39;Nenny’s hair is slippery—slides out of your hand.&#39;,
 &#39;And Kiki, who is the youngest, has hair like fur.&#39;,
 &#39;But my mother’s hair, my mother’s hair, like little rosettes, like little candy circles all curly and pretty because she pinned it in pincurls all day, sweet to put your nose into when she is holding you, holding you and you feel safe, is the warm smell of bread before you bake it, is the smell when she makes room for you on her side of the bed still warm with her skin, and you sleep near her, the rain outside falling and Papa snoring.&#39;,
 &#39;The snoring, the rain, and Mama’s hair that smells like bread.&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentences</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">chapter</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculate-scores-for-each-sentence">
<h2>Calculate Scores for Each Sentence<a class="headerlink" href="#calculate-scores-for-each-sentence" title="Permalink to this headline">¶</a></h2>
<p>We can loop through the sentences and calculate sentiment scores for every sentence.</p>
<p><em>How would we print just the “compound” score for each sentence?</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">:</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="n">sentence</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">scores</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hairs

Everybody in our family has different hair. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

My Papa’s hair is like a broom, all up in the air. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.815, &#39;pos&#39;: 0.185, &#39;compound&#39;: 0.3612} 

And me, my hair is lazy. 
 {&#39;neg&#39;: 0.333, &#39;neu&#39;: 0.667, &#39;pos&#39;: 0.0, &#39;compound&#39;: -0.3612} 

It never obeys barrettes or bands. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

Carlos’ hair is thick and straight. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.725, &#39;pos&#39;: 0.275, &#39;compound&#39;: 0.2263} 

He doesn’t need to comb it. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 1.0, &#39;pos&#39;: 0.0, &#39;compound&#39;: 0.0} 

Nenny’s hair is slippery—slides out of your hand. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.686, &#39;pos&#39;: 0.314, &#39;compound&#39;: 0.4939} 

And Kiki, who is the youngest, has hair like fur. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.783, &#39;pos&#39;: 0.217, &#39;compound&#39;: 0.3612} 

But my mother’s hair, my mother’s hair, like little rosettes, like little candy circles all curly and pretty because she pinned it in pincurls all day, sweet to put your nose into when she is holding you, holding you and you feel safe, is the warm smell of bread before you bake it, is the smell when she makes room for you on her side of the bed still warm with her skin, and you sleep near her, the rain outside falling and Papa snoring. 
 {&#39;neg&#39;: 0.019, &#39;neu&#39;: 0.756, &#39;pos&#39;: 0.225, &#39;compound&#39;: 0.9684} 

The snoring, the rain, and Mama’s hair that smells like bread. 
 {&#39;neg&#39;: 0.0, &#39;neu&#39;: 0.8, &#39;pos&#39;: 0.2, &#39;compound&#39;: 0.3612} 
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="make-dataframe">
<h2>Make DataFrame<a class="headerlink" href="#make-dataframe" title="Permalink to this headline">¶</a></h2>
<p>A convenient way to make a DataFrame is to first make a list of dictionaries.</p>
<p>Below we loop through the sentences, calculate sentiment scores, and then create a mini-dictionary with the sentence and compound score, which we append to the list <code class="docutils literal notranslate"><span class="pre">sentence_scores</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence_scores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">sentences</span><span class="p">:</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
    <span class="n">sentence_scores</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;sentence&#39;</span><span class="p">:</span> <span class="n">sentence</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
</div>
<p>To make this list of dictionaries into a DataFrame, we can simply use <code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sentence_scores</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sentence</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Hairs\n\nEverybody in our family has different hair.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>My Papa’s hair is like a broom, all up in the air.</td>
      <td>0.3612</td>
    </tr>
    <tr>
      <th>2</th>
      <td>And me, my hair is lazy.</td>
      <td>-0.3612</td>
    </tr>
    <tr>
      <th>3</th>
      <td>It never obeys barrettes or bands.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Carlos’ hair is thick and straight.</td>
      <td>0.2263</td>
    </tr>
    <tr>
      <th>5</th>
      <td>He doesn’t need to comb it.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Nenny’s hair is slippery—slides out of your hand.</td>
      <td>0.4939</td>
    </tr>
    <tr>
      <th>7</th>
      <td>And Kiki, who is the youngest, has hair like fur.</td>
      <td>0.3612</td>
    </tr>
    <tr>
      <th>8</th>
      <td>But my mother’s hair, my mother’s hair, like little rosettes, like little candy circles all curly and pretty because she pinned it in pincurls all day, sweet to put your nose into when she is holding you, holding you and you feel safe, is the warm smell of bread before you bake it, is the smell when she makes room for you on her side of the bed still warm with her skin, and you sleep near her,...</td>
      <td>0.9684</td>
    </tr>
    <tr>
      <th>9</th>
      <td>The snoring, the rain, and Mama’s hair that smells like bread.</td>
      <td>0.3612</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s examine the sentences from negative to positive sentiment scores.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hairs_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sentence_scores</span><span class="p">)</span>
<span class="n">hairs_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sentence</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>And me, my hair is lazy.</td>
      <td>-0.3612</td>
    </tr>
    <tr>
      <th>0</th>
      <td>Hairs\n\nEverybody in our family has different hair.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>It never obeys barrettes or bands.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>He doesn’t need to comb it.</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Carlos’ hair is thick and straight.</td>
      <td>0.2263</td>
    </tr>
    <tr>
      <th>1</th>
      <td>My Papa’s hair is like a broom, all up in the air.</td>
      <td>0.3612</td>
    </tr>
    <tr>
      <th>7</th>
      <td>And Kiki, who is the youngest, has hair like fur.</td>
      <td>0.3612</td>
    </tr>
    <tr>
      <th>9</th>
      <td>The snoring, the rain, and Mama’s hair that smells like bread.</td>
      <td>0.3612</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Nenny’s hair is slippery—slides out of your hand.</td>
      <td>0.4939</td>
    </tr>
    <tr>
      <th>8</th>
      <td>But my mother’s hair, my mother’s hair, like little rosettes, like little candy circles all curly and pretty because she pinned it in pincurls all day, sweet to put your nose into when she is holding you, holding you and you feel safe, is the warm smell of bread before you bake it, is the smell when she makes room for you on her side of the bed still warm with her skin, and you sleep near her,...</td>
      <td>0.9684</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="calculate-sentiment-scores-by-chapter">
<h2>Calculate Sentiment Scores By Chapter<a class="headerlink" href="#calculate-sentiment-scores-by-chapter" title="Permalink to this headline">¶</a></h2>
<p>To calculate sentiment scores for the sentences in each chapter of <em>The House on Mango Street</em>, we need to read in each file indviidually.</p>
<p>Below we will import <code class="docutils literal notranslate"><span class="pre">glob</span></code> and <code class="docutils literal notranslate"><span class="pre">Path</span></code>, which will allow us to get all the filenames for the chapters and extract the titles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</pre></div>
</div>
</div>
</div>
<p>Create a list of filenames for every <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file in the directory</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">directory_path</span> <span class="o">=</span> <span class="s2">&quot;../texts/literature/House-on-Mango-Street/&quot;</span>
<span class="n">text_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">directory_path</span><span class="si">}</span><span class="s2">/*.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Loop through each file in the “House on Mango Street” directory, calculate sentiment scores, and make a list of dictionaries</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sentence_scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Loop through all the filenames</span>
<span class="k">for</span> <span class="n">text_file</span> <span class="ow">in</span> <span class="n">text_files</span><span class="p">:</span>
    
    <span class="c1">#Read in the file</span>
    <span class="n">chapter</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">text_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="c1">#Extract the end of the filename</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">text_file</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span>
    
    <span class="c1">#Loop through each sentence in the </span>
    <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">chapter</span><span class="p">):</span>
        <span class="c1">#Calculate sentiment scores for sentence</span>
        <span class="n">scores</span> <span class="o">=</span> <span class="n">sentimentAnalyser</span><span class="o">.</span><span class="n">polarity_scores</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
        
        <span class="c1">#Make mini-dictionary with chapter name, sentence, and sentiment score</span>
        <span class="n">sentence_scores</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;chapter&#39;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
                                <span class="s1">&#39;sentence&#39;</span><span class="p">:</span> <span class="n">sentence</span><span class="p">,</span>
                                <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="n">scores</span><span class="p">[</span><span class="s1">&#39;compound&#39;</span><span class="p">]})</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s create a DataFrame from our list of dictionaries</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sentence_scores</span><span class="p">)</span>
<span class="c1"># Make the DataFrame alphabetical by chapter</span>
<span class="n">chapter_df</span> <span class="o">=</span> <span class="n">chapter_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;chapter&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>How would we examine the most negative 15 sentences?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">)[:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>chapter</th>
      <th>sentence</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1028</th>
      <td>17-The-Family-of-Little-Feet</td>
      <td>Bum man is yelling something to the air but by now we are running fast and far away, our high heel shoes taking us all the way down the avenue and around the block, past the ugly cousins, past Mr. Benny’s, up Mango Street, the back way, just in case.</td>
      <td>-0.8519</td>
    </tr>
    <tr>
      <th>0</th>
      <td>23-Born-Bad</td>
      <td>Born Bad\n\n\nMost likely I will go to hell and most likely I deserve to be there.</td>
      <td>-0.8442</td>
    </tr>
    <tr>
      <th>1305</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>Papa\n\nWho Wakes Up\n\nTired\n\nin the Dark\n\n\nYour abuelito is dead, Papa says early one morning in my room.</td>
      <td>-0.8020</td>
    </tr>
    <tr>
      <th>173</th>
      <td>12-Those-Who-Don’t</td>
      <td>They are stupid people who are lost and got here by mistake.</td>
      <td>-0.7964</td>
    </tr>
    <tr>
      <th>426</th>
      <td>13-There-Was-an-Old-Woman-She-Had-So-Many-Children-She-Didn’t-Know-What-to-Do</td>
      <td>But after a while you get tired of being worried about kids who aren’t even yours.</td>
      <td>-0.7684</td>
    </tr>
    <tr>
      <th>315</th>
      <td>16-And-Some-More</td>
      <td>Anita, Stella, Dennis, and Lolo …\n\nWho you calling ugly, ugly?</td>
      <td>-0.7650</td>
    </tr>
    <tr>
      <th>565</th>
      <td>18-A-Rice-Sandwich</td>
      <td>she said, pointing to a row of ugly three-flats, the ones even the raggedy men are ashamed to go into.</td>
      <td>-0.7506</td>
    </tr>
    <tr>
      <th>422</th>
      <td>13-There-Was-an-Old-Woman-She-Had-So-Many-Children-She-Didn’t-Know-What-to-Do</td>
      <td>They are bad those Vargases, and how can they help it with only one mother who is tired all the time from buttoning and bottling and babying, and who cries every day for the man who left without even leaving a dollar for bologna or a note explaining how come.</td>
      <td>-0.7506</td>
    </tr>
    <tr>
      <th>47</th>
      <td>23-Born-Bad</td>
      <td>I hated to go there alone.</td>
      <td>-0.7351</td>
    </tr>
    <tr>
      <th>957</th>
      <td>06-Our-Good-Day</td>
      <td>Past my house, sad and red and crumbly in places, past Mr. Benny’s grocery on the corner, and down the avenue which is dangerous.</td>
      <td>-0.7351</td>
    </tr>
    <tr>
      <th>1189</th>
      <td>14-Alicia-Who-Sees-Mice</td>
      <td>Alicia, whose mama died, is sorry there is no one older to rise and make the lunchbox tortillas.</td>
      <td>-0.7269</td>
    </tr>
    <tr>
      <th>1410</th>
      <td>10-Louie,-His-Cousin-&amp;-His-Other-Cousin</td>
      <td>Marin screamed and we ran down the block to where the cop car’s siren spun a dizzy blue.</td>
      <td>-0.7269</td>
    </tr>
    <tr>
      <th>672</th>
      <td>11-Marin</td>
      <td>But next year Louie’s parents are going to send her back to her mother with a letter saying she’s too much trouble, and that is too bad because I like Marin.</td>
      <td>-0.7227</td>
    </tr>
    <tr>
      <th>1261</th>
      <td>38-The-Monkey-Garden</td>
      <td>When I got back Sally was pretending to be mad … something about the boys having stolen her keys.</td>
      <td>-0.7184</td>
    </tr>
    <tr>
      <th>1018</th>
      <td>17-The-Family-of-Little-Feet</td>
      <td>Now you know to talk to drunks is crazy and to tell them your name is worse, but who can blame her.</td>
      <td>-0.7050</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>How would we examine the most positive 15 sentences?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>chapter</th>
      <th>sentence</th>
      <th>score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1216</th>
      <td>02-Hairs</td>
      <td>But my mother’s hair, my mother’s hair, like little rosettes, like little candy circles all curly and pretty because she pinned it in pincurls all day, sweet to put your nose into when she is holding you, holding you and you feel safe, is the warm smell of bread before you bake it, is the smell when she makes room for you on her side of the bed still warm with her skin, and you sleep near her,...</td>
      <td>0.9684</td>
    </tr>
    <tr>
      <th>817</th>
      <td>31-Rafaela-Who-Drinks-Coconut-&amp;-Papaya-Juice-on-Tuesdays</td>
      <td>Rafaela who drinks and drinks coconut and papaya juice on Tuesdays and wishes there were sweeter drinks, not bitter like an empty room, but sweet sweet like the island, like the dance hall down the street where women much older than her throw green eyes easily like dice and open homes with keys.</td>
      <td>0.9677</td>
    </tr>
    <tr>
      <th>526</th>
      <td>18-A-Rice-Sandwich</td>
      <td>But Nenny says she doesn’t want to eat at school—ever—because she likes to go home with her best friend Gloria who lives across the schoolyard.</td>
      <td>0.9455</td>
    </tr>
    <tr>
      <th>732</th>
      <td>32-Sally</td>
      <td>The boys at school think she’s beautiful because her hair is shiny black like raven feathers and when she laughs, she flicks her hair back like a satin shawl over her shoulders and laughs.</td>
      <td>0.9360</td>
    </tr>
    <tr>
      <th>1001</th>
      <td>17-The-Family-of-Little-Feet</td>
      <td>Rachel says yes, and Lucy says yes, and yes I say, these are the best shoes.</td>
      <td>0.9062</td>
    </tr>
    <tr>
      <th>1354</th>
      <td>05-Cathy-Queen-of-Cats</td>
      <td>Cathy’s father will have to fly to France one day and find her great great distant grand cousin on her father’s side and inherit the family house.</td>
      <td>0.9042</td>
    </tr>
    <tr>
      <th>1327</th>
      <td>05-Cathy-Queen-of-Cats</td>
      <td>Cathy\n\nQueen of Cats\n\n\nShe says, I am the great great grand cousin of the queen of France.</td>
      <td>0.9042</td>
    </tr>
    <tr>
      <th>671</th>
      <td>11-Marin</td>
      <td>Marin says that if she stays here next year, she’s going to get a real job downtown because that’s where the best jobs are, since you always get to look beautiful and get to wear nice clothes and can meet someone in the subway who might marry you and take you to live in a big house far away.</td>
      <td>0.8979</td>
    </tr>
    <tr>
      <th>304</th>
      <td>16-And-Some-More</td>
      <td>Well, there’s these already that look like shaving cream …\n\nAnd what about the kind that looks like you combed its hair?</td>
      <td>0.8591</td>
    </tr>
    <tr>
      <th>1206</th>
      <td>07-Laughter</td>
      <td>Rachel and Lucy look at me like I’m crazy, but before they can let out a laugh, Nenny says: Yes, that’s Mexico all right.</td>
      <td>0.8591</td>
    </tr>
    <tr>
      <th>390</th>
      <td>39-Red-Clowns</td>
      <td>He said I love you, I love you, Spanish girl.</td>
      <td>0.8555</td>
    </tr>
    <tr>
      <th>367</th>
      <td>39-Red-Clowns</td>
      <td>He said I love you, Spanish girl, I love you, and pressed his sour mouth to mine.</td>
      <td>0.8555</td>
    </tr>
    <tr>
      <th>1036</th>
      <td>35-Beautiful-&amp;-Cruel</td>
      <td>Nenny has pretty eyes and it’s easy to talk that way if you are pretty.</td>
      <td>0.8519</td>
    </tr>
    <tr>
      <th>1153</th>
      <td>04-My-Name</td>
      <td>She was a horse woman too, born like me in the Chinese year of the horse—which is supposed to be bad luck if you’re born female—but I think this is a Chinese lie because the Chinese, like the Mexicans, don’t like their women strong.</td>
      <td>0.8519</td>
    </tr>
    <tr>
      <th>1280</th>
      <td>38-The-Monkey-Garden</td>
      <td>Your son and his friends stole Sally’s keys and now they won’t give them back unless she kisses them and right now they’re making her kiss them, I said all out of breath from the three flights of stairs.</td>
      <td>0.8481</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="make-a-plot-arc">
<h2>Make a Plot Arc<a class="headerlink" href="#make-a-plot-arc" title="Permalink to this headline">¶</a></h2>
<p>To create a data visualization of sentiment over the course of <em>The House on Mango Street</em>, we first need to calculate the average sentiment for each chapter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;chapter&#39;</span><span class="p">)[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>chapter
01-The-House-on-Mango-Street                                                     0.041836
02-Hairs                                                                         0.241100
03-Boys-&amp;-Girls                                                                  0.242573
04-My-Name                                                                       0.127677
05-Cathy-Queen-of-Cats                                                           0.113374
06-Our-Good-Day                                                                  0.127275
07-Laughter                                                                      0.313938
08-Gil’s-Furniture-Bought-&amp;-Sold                                                 0.112105
09-Meme-Ortiz                                                                    0.032085
10-Louie,-His-Cousin-&amp;-His-Other-Cousin                                          0.067255
11-Marin                                                                         0.143275
12-Those-Who-Don’t                                                              -0.088660
13-There-Was-an-Old-Woman-She-Had-So-Many-Children-She-Didn’t-Know-What-to-Do   -0.048036
14-Alicia-Who-Sees-Mice                                                          0.037650
15-Darius-&amp;-the-Clouds                                                           0.122159
16-And-Some-More                                                                 0.087000
17-The-Family-of-Little-Feet                                                     0.209180
18-A-Rice-Sandwich                                                               0.097951
19-Chanclas                                                                      0.129330
20-Hips                                                                          0.137093
21-The-First-Job                                                                 0.103643
22-Papa-Who-Wakes-Up-Tired-in-the-Dark                                          -0.202727
23-Born-Bad                                                                      0.011672
24-Elenita,-Cards,-Palm,-Water                                                   0.073752
25-Geraldo-No-Last-Name                                                         -0.020864
26-Edna’s-Ruthie                                                                 0.209125
27-The-Earl-of-Tennessee                                                         0.053060
28-Sire                                                                          0.113610
29-Four-Skinny-Trees                                                             0.051544
30-No-Speak-English                                                             -0.000458
31-Rafaela-Who-Drinks-Coconut-&amp;-Papaya-Juice-on-Tuesdays                         0.366275
32-Sally                                                                         0.182263
33-Minerva-Writes-Poems                                                          0.007067
34-Bums-in-the-Attic                                                             0.011163
35-Beautiful-&amp;-Cruel                                                             0.100457
36-A-Smart-Cookie                                                                0.059276
37-What-Sally-Said                                                              -0.055325
38-The-Monkey-Garden                                                             0.025824
39-Red-Clowns                                                                    0.027551
40-Linoleum-Roses                                                                0.167850
41-The-Three-Sisters                                                             0.105905
42-Alicia-&amp;-I-Talking-on-Edna’s-Steps                                            0.046825
43-A-House-of-My-Own                                                             0.065264
44-Mango-Says-Goodbye-Sometimes                                                  0.026554
Name: score, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_means</span> <span class="o">=</span> <span class="n">chapter_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;chapter&#39;</span><span class="p">)[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="bar-chart">
<h3>Bar Chart<a class="headerlink" href="#bar-chart" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">chapter_means</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;chapter&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span>
                        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Sentiment in Mango Street&#39;</span><span class="p">)</span>

<span class="c1"># Plot a horizontal line at 0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.lines.Line2D at 0x7fb5914686d0&gt;
</pre></div>
</div>
<img alt="../../_images/02.5-Sentiment-Analysis-WORKBOOK-SOLUTIONS_59_1.png" src="../../_images/02.5-Sentiment-Analysis-WORKBOOK-SOLUTIONS_59_1.png" />
</div>
</div>
</div>
<div class="section" id="line-chart">
<h3>Line Chart<a class="headerlink" href="#line-chart" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">chapter_means</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;chapter&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span>
                        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">rot</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Sentiment in Mango Street&#39;</span><span class="p">)</span>

<span class="c1">#Not all xtick labels will show up in a line plot by default, so we have to make it explicit</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">44</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">chapter_means</span><span class="p">[</span><span class="s1">&#39;chapter&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="c1"># Plot a horizontal line at 0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/02.5-Sentiment-Analysis-WORKBOOK-SOLUTIONS_61_0.png" src="../../_images/02.5-Sentiment-Analysis-WORKBOOK-SOLUTIONS_61_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="id1">
<h2>Your Turn!<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>How do these plot arcs align with your reading experience of <em>The House on Mango Street</em>? Examine some specific chapters and sentences below, and discuss how well VADER seems to be working or not working.</p>
<p><em>Note: if you want to read the sentences in order, you can use the <code class="docutils literal notranslate"><span class="pre">.sort_index()</span></code> method</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="p">[</span><span class="n">chapter_df</span><span class="p">[</span><span class="s1">&#39;chapter&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Papa-Who&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>chapter</th>
      <th>sentence</th>
      <th>score</th>
      <th>rolling_mean</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1305</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>Papa\n\nWho Wakes Up\n\nTired\n\nin the Dark\n\n\nYour abuelito is dead, Papa says early one morning in my room.</td>
      <td>-0.8020</td>
      <td>0.115703</td>
    </tr>
    <tr>
      <th>1314</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>I hold my Papa in my arms.</td>
      <td>0.0000</td>
      <td>0.102307</td>
    </tr>
    <tr>
      <th>1313</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>And I think if my own Papa died what would I do.</td>
      <td>-0.5574</td>
      <td>0.083727</td>
    </tr>
    <tr>
      <th>1312</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>My Papa, his thick hands and thick shoes, who wakes up tired in the dark, who combs his hair with water, drinks his coffee, and is gone before we wake, today is sitting on my bed.</td>
      <td>-0.4404</td>
      <td>0.057007</td>
    </tr>
    <tr>
      <th>1311</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>I will have to tell them to be quiet today.</td>
      <td>0.0000</td>
      <td>0.044967</td>
    </tr>
    <tr>
      <th>1309</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>Because I am the oldest, my father has told me first, and now it is my turn to tell the others.</td>
      <td>0.0000</td>
      <td>0.019467</td>
    </tr>
    <tr>
      <th>1308</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>I know he will have to go away, that he will take a plane to Mexico, all the uncles and aunts will be there, and they will have a black-and-white photo taken in front of the tomb with flowers shaped like spears in a white vase because this is how they send the dead away in that country.</td>
      <td>-0.4215</td>
      <td>0.005417</td>
    </tr>
    <tr>
      <th>1307</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>I have never seen my Papa cry and don’t know what to do.</td>
      <td>-0.4767</td>
      <td>-0.020340</td>
    </tr>
    <tr>
      <th>1306</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>Está muerto, and then as if he just heard the news himself, crumples like a coat and cries, my brave Papa cries.</td>
      <td>0.1280</td>
      <td>-0.016073</td>
    </tr>
    <tr>
      <th>1315</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>I hold and hold and hold him.</td>
      <td>0.0000</td>
      <td>-0.016073</td>
    </tr>
    <tr>
      <th>1310</th>
      <td>22-Papa-Who-Wakes-Up-Tired-in-the-Dark</td>
      <td>I will have to explain why we can’t play.</td>
      <td>0.3400</td>
      <td>-0.004740</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Examine another chapter or chapters</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_df</span><span class="p">[</span><span class="n">chapter_df</span><span class="p">[</span><span class="s1">&#39;chapter&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Red-Clowns&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>chapter</th>
      <th>sentence</th>
      <th>compound_score</th>
      <th>negative_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>383</th>
      <td>39-Red-Clowns</td>
      <td>The tilt-a-whirl.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>384</th>
      <td>39-Red-Clowns</td>
      <td>The red clowns laughing their thick-tongue laugh.</td>
      <td>0.7783</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>362</th>
      <td>39-Red-Clowns</td>
      <td>I waited by the red clowns, just like you said, but you never came, you never came for me.</td>
      <td>0.1901</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>381</th>
      <td>39-Red-Clowns</td>
      <td>Only his dirty fingernails against my skin, only his sour smell again.</td>
      <td>-0.4404</td>
      <td>0.209</td>
    </tr>
    <tr>
      <th>380</th>
      <td>39-Red-Clowns</td>
      <td>All the books and magazines, everything that told it wrong.</td>
      <td>-0.4767</td>
      <td>0.256</td>
    </tr>
    <tr>
      <th>379</th>
      <td>39-Red-Clowns</td>
      <td>They all lied.</td>
      <td>-0.3818</td>
      <td>0.565</td>
    </tr>
    <tr>
      <th>378</th>
      <td>39-Red-Clowns</td>
      <td>You’re a liar.</td>
      <td>-0.5106</td>
      <td>0.623</td>
    </tr>
    <tr>
      <th>377</th>
      <td>39-Red-Clowns</td>
      <td>I waited my whole life.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>376</th>
      <td>39-Red-Clowns</td>
      <td>Why did you leave me all alone?</td>
      <td>-0.2960</td>
      <td>0.390</td>
    </tr>
    <tr>
      <th>373</th>
      <td>39-Red-Clowns</td>
      <td>I don’t remember.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>368</th>
      <td>39-Red-Clowns</td>
      <td>Sally, make him stop.</td>
      <td>-0.2960</td>
      <td>0.423</td>
    </tr>
    <tr>
      <th>364</th>
      <td>39-Red-Clowns</td>
      <td>Why didn’t you hear me when I called?</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>366</th>
      <td>39-Red-Clowns</td>
      <td>The one who grabbed me by the arm, he wouldn’t let me go.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>367</th>
      <td>39-Red-Clowns</td>
      <td>He said I love you, Spanish girl, I love you, and pressed his sour mouth to mine.</td>
      <td>0.8555</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>365</th>
      <td>39-Red-Clowns</td>
      <td>Why didn’t you tell them to leave me alone?</td>
      <td>-0.2960</td>
      <td>0.314</td>
    </tr>
    <tr>
      <th>369</th>
      <td>39-Red-Clowns</td>
      <td>I couldn’t make them go away.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>370</th>
      <td>39-Red-Clowns</td>
      <td>I couldn’t do anything but cry.</td>
      <td>-0.6310</td>
      <td>0.454</td>
    </tr>
    <tr>
      <th>371</th>
      <td>39-Red-Clowns</td>
      <td>I don’t remember.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>372</th>
      <td>39-Red-Clowns</td>
      <td>It was dark.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>385</th>
      <td>39-Red-Clowns</td>
      <td>Then the colors began to whirl.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>374</th>
      <td>39-Red-Clowns</td>
      <td>I don’t remember.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>386</th>
      <td>39-Red-Clowns</td>
      <td>Sky tipped.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>382</th>
      <td>39-Red-Clowns</td>
      <td>The moon that watched.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>375</th>
      <td>39-Red-Clowns</td>
      <td>Please don’t make me tell it all.</td>
      <td>0.3182</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>356</th>
      <td>39-Red-Clowns</td>
      <td>I hold your change, wave, count how many times you go by.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>357</th>
      <td>39-Red-Clowns</td>
      <td>Those boys that look at you because you’re pretty.</td>
      <td>0.4939</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>358</th>
      <td>39-Red-Clowns</td>
      <td>I like to be with you, Sally.</td>
      <td>0.3612</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>354</th>
      <td>39-Red-Clowns</td>
      <td>And anyway I don’t like carnivals.</td>
      <td>0.3612</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>353</th>
      <td>39-Red-Clowns</td>
      <td>I was standing by the tilt-a-whirl where you said.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>359</th>
      <td>39-Red-Clowns</td>
      <td>You’re my friend.</td>
      <td>0.4939</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>352</th>
      <td>39-Red-Clowns</td>
      <td>I was waiting by the red clowns.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>355</th>
      <td>39-Red-Clowns</td>
      <td>I went to be with you because you laugh on the tilt-a-whirl, you throw your head back and laugh.</td>
      <td>0.8020</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>348</th>
      <td>39-Red-Clowns</td>
      <td>What he did.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>349</th>
      <td>39-Red-Clowns</td>
      <td>Where he touched me.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>351</th>
      <td>39-Red-Clowns</td>
      <td>The way they said it, the way it’s supposed to be, all the storybooks and movies, why did you lie to me?</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>346</th>
      <td>39-Red-Clowns</td>
      <td>Red Clowns\n\n\nSally, you lied.</td>
      <td>-0.3818</td>
      <td>0.394</td>
    </tr>
    <tr>
      <th>387</th>
      <td>39-Red-Clowns</td>
      <td>Their high black gym shoes ran.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>388</th>
      <td>39-Red-Clowns</td>
      <td>Sally, you lied, you lied.</td>
      <td>-0.6369</td>
      <td>0.634</td>
    </tr>
    <tr>
      <th>390</th>
      <td>39-Red-Clowns</td>
      <td>He said I love you, I love you, Spanish girl.</td>
      <td>0.8555</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>389</th>
      <td>39-Red-Clowns</td>
      <td>He wouldn’t let me go.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>360</th>
      <td>39-Red-Clowns</td>
      <td>But that big boy, where did he take you?</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>363</th>
      <td>39-Red-Clowns</td>
      <td>Sally Sally a hundred times.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>350</th>
      <td>39-Red-Clowns</td>
      <td>I didn’t want it, Sally.</td>
      <td>0.0772</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>361</th>
      <td>39-Red-Clowns</td>
      <td>I waited such a long time.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>347</th>
      <td>39-Red-Clowns</td>
      <td>It wasn’t what you said at all.</td>
      <td>0.0000</td>
      <td>0.000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>How well do you think VADER sentiment analysis works with literary texts?</p></li>
<li><p>How do social media posts and literary texts different in the way they express sentiment? (What is “sentiment”, anyway?)</p></li>
<li><p>Could you imagine using sentiment analysis in a project? If so, how?</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./05-Text-Analysis/Workbook-Solutions"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By <a href="https://melaniewalsh.org/">Melanie Walsh</a><br/>
        
            &copy; Copyright 2021.<br/>
          <div class="extra_footer">
            <div>
<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> This book is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License</a>. The code is licensed under a <a href="https://choosealicense.com/licenses/gpl-3.0/#">GNU General Public License v3.0</a>.
</div>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-86905362-3', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </body>
</html>