
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pandas Basics — Part 2 &#8212; Introduction to Cultural Analytics &amp; Python</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/tabs.js"></script>
    <script src="../_static/custom.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://melaniewalsh.github.io/Intro-Cultural-Analytics/Data-Analysis/Pandas-Basics-Part2.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Pandas Basics — Part 3" href="Pandas-Basics-Part3.html" />
    <link rel="prev" title="Pandas Basics — Part 1" href="Pandas-Basics-Part1.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />


<!-- Opengraph tags -->
<meta property="og:url"         content="https://melaniewalsh.github.io/Intro-Cultural-Analytics/Data-Analysis/Pandas-Basics-Part2.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Pandas Basics — Part 2" />
<meta property="og:description" content="Pandas Basics — Part 2  In this lesson, we’re going to introduce some more fundamentals of Pandas, a powerful Python library for working with tabular data like " />
<meta property="og:image"       content="https://melaniewalsh.github.io/Intro-Cultural-Analytics/_static/favicon.ico" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/favicon.ico" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Introduction to Cultural Analytics & Python</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  How To
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../How-To-Interact-With-This-Book.html">
   Interact With This Book
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  The Course
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../course-schedule.html">
   Course Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../syllabus.html">
   Course Syllabus
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  The Book
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../Command-Line/The-Command-Line.html">
   1. The Command Line
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../Python/Python.html">
   2. Python Basics
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Installation.html">
     Installation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/How-to-Use-Jupyter-Notebooks.html">
     How to Use Jupyter Notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Anatomy-Python-Script.html">
     Anatomy of a Python Script
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Variables.html">
     Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Data-Types.html">
     Data Types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/String-Methods.html">
     String Methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Files-Character-Encoding.html">
     Files and Character Encoding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Comparisons-Conditionals.html">
     Comparisons &amp; Conditionals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Lists-Loops-Part1.html">
     Lists &amp; Loops — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Lists-Loops-Part2.html">
     Lists &amp; Loops — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Dictionaries.html">
     Dictionaries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Functions.html">
     Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/Common-Python-Errors.html">
     Common Python Errors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Python/What-Were-Not-Covering.html">
     What We’re Not Covering
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="Data-Analysis.html">
   3. Data Analysis (Pandas)
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="Pandas-Basics-Part1.html">
     Pandas Basics — Part 1
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Pandas Basics — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Pandas-Basics-Part3.html">
     Pandas Basics — Part 3
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Pandas-Merge-Datasets.html">
     Pandas — Merge Datasets
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../Data-Collection/Data-Collection.html">
   4. Data Collection (Web Scraping, APIs)
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/User-Ethics-Legal-Concerns.html">
     User Ethics &amp; Legal Concerns
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/Web-Scraping-Part1.html">
     Web Scraping — Part 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/Web-Scraping-Part2.html">
     Web Scraping — Part 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/Git-GitHub.html">
     Git and GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/APIs.html">
     Application Programming Interfaces (APIs)
    </a>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../Data-Collection/Song-Genius-Data-Collection.html">
     Song Genius Data Collection
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Genius-API.html">
       Song Genius API
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/LyricsGenius.html">
       Song Lyrics Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Song-Lyrics-Analysis.html">
       Song Lyrics Analysis
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../Data-Collection/Twitter-Data-Collection-Home.html">
     Twitter Data Collection
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Twitter-API-Setup.html">
       Twitter API Setup
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Twitter-Data-Collection.html">
       Twitter Data Collection
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Twitter-Data-Analysis.html">
       Twitter Data Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Data-Collection/Twitter-Data-Sharing.html">
       Twitter Data Sharing
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Data-Collection/Reddit-Data-Collection-With-PSAW.html">
     Reddit Data Collection
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../Text-Analysis/Text-Analysis.html">
   5. Text Analysis
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../Text-Analysis/TF-IDF.html">
     TF-IDF
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../Text-Analysis/TF-IDF-HathiTrust.html">
       TF-IDF with HathiTrust Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Text-Analysis/TF-IDF-Scikit-Learn.html">
       TF-IDF with Scikit-Learn
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../Text-Analysis/Topic-Modeling.html">
     Topic Modeling
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../Text-Analysis/Topic-Modeling-Overview.html">
       Topic Modeling — Overview
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Text-Analysis/Topic-Modeling-Set-Up.html">
       Topic Modeling — Set Up
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Text-Analysis/Topic-Modeling-Text-Files.html">
       Topic Modeling — Text Files
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Text-Analysis/Topic-Modeling-CSV.html">
       Topic Modeling — CSV Files
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Text-Analysis/Topic-Modeling-Time-Series.html">
       Topic Modeling — Time Series
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Text-Analysis/Named-Entity-Recognition.html">
     Named Entity Recognition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Text-Analysis/POS-Keywords.html">
     Part-of-Speech Tagging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Text-Analysis/POS-Keywords.html#keyword-extraction">
     Keyword Extraction
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../Network-Analysis/Network-Analysis-Home.html">
   6. Network Analysis
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../Network-Analysis/Network-Analysis.html">
     Network Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Network-Analysis/Making-Network-Viz-with-Bokeh.html">
     Make an Interactive Network Visualization
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../Mapping/Mapping-Home.html">
   7. Mapping
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../Mapping/Mapping.html">
     Mapping
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Mapping/Mapping.html#geocoding-with-geopy">
     Geocoding with GeoPy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Mapping/Mapping.html#making-interactive-maps">
     Making Interactive Maps
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Mapping/Custom-Maps.html">
     Custom Map Backgrounds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Mapping/Publish-Your-Map.html">
     Publish Your Map on the Web
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Datasets
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../Datasets/Datasets.html">
   Datasets
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Extra Materials
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../Python/Jupyter-Tips-Tricks.html">
   Jupyter Tips &amp; Tricks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Python/Randomize-Students.html">
   Make Random Student Groups
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/Data-Analysis/Pandas-Basics-Part2.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/melaniewalsh/Intro-Cultural-Analytics"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/melaniewalsh/Intro-Cultural-Analytics/issues/new?title=Issue%20on%20page%20%2FData-Analysis/Pandas-Basics-Part2.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/melaniewalsh/Intro-Cultural-Analytics/master?urlpath=lab/tree/book/Data-Analysis/Pandas-Basics-Part2.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dataset">
   Dataset
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-trans-atlantic-slave-trade-database">
     The Trans-Atlantic Slave Trade Database
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examine-data">
   Examine Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#shape">
     Shape
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-types">
     Data Types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#columns">
     Columns
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#summary-statistics">
     Summary Statistics
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#missing-data">
   Missing Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#isna-notna">
     .isna() / .notna()
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#count">
     .count()
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fillna">
     .fillna()
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rename-columns">
   Rename Columns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#drop-columns">
   Drop Columns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#add-columns">
   Add Columns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sort-columns">
   Sort Columns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-columns">
   Calculate Columns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#groupby-columns">
   Groupby Columns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#make-time-series-with-groupby">
   Make Time Series with Groupby
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="pandas-basics-part-2">
<h1>Pandas Basics — Part 2<a class="headerlink" href="#pandas-basics-part-2" title="Permalink to this headline">¶</a></h1>
<p>In this lesson, we’re going to introduce some more fundamentals of <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/overview.html">Pandas</a>, a powerful Python library for working with tabular data like CSV files.</p>
<p>We will review skills learned from the last lesson and introduce how to:</p>
<ul class="simple">
<li><p>Broadly examine data</p></li>
<li><p>Work with missing data</p></li>
<li><p>Rename, drop, and add new columns</p></li>
<li><p>Perform mathematical calculations</p></li>
<li><p>Aggregate subsets of data</p></li>
<li><p>Make a simple time series</p></li>
</ul>
<hr class="docutils" />
<div class="section" id="dataset">
<h2>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-trans-atlantic-slave-trade-database">
<h3>The Trans-Atlantic Slave Trade Database<a class="headerlink" href="#the-trans-atlantic-slave-trade-database" title="Permalink to this headline">¶</a></h3>
<blockquote class="epigraph">
<div><p>[D]isplaying data alone could not and did not offer the atonement descendants of slaves
sought or capture the inhumanity of this archive’s formation.</p>
<p class="attribution">—Jessica Marie Johnson, <a href="https://read.dukeupress.edu/social-text/article/36/4%20(137)/57/137032/Markup-BodiesBlack-Life-Studies-and-Slavery-Death">“Markup Bodies”</a></p>
</div></blockquote>
<p>The dataset that we’re going to be working with in this lesson is taken from <a class="reference external" href="https://www.slavevoyages.org/voyage/database">The Trans-Atlantic Slave Trade Database</a>, part of the <a class="reference external" href="https://www.slavevoyages.org/"><em>Slave Voyages</em> project</a>. The larger database includes information about 35,000 slave-trading voyages from 1514-1866. The dataset we’re working with here was filtered to include the 20,000 voyages that landed in the Americas. The data was filtered to also include the percentage of enslaved men, women, and children on the voyages.</p>
<p>We’re working with this data for a number of reasons. The <em>Slave Voyages</em> project is a major data-driven contribution to the history of slavery and to the field of the digital humanities. Before the Trans-Atlantic Slave Trade Database, as DH scholar Jessica Johnson <a class="reference external" href="https://read.dukeupress.edu/social-text/article-abstract/36/4%20(137)/57/137032/Markup-BodiesBlack-Life-Studies-and-Slavery-Death?redirectedFrom=fulltext">writes,</a> “historians assumed enslaved women and children played a negligible role in the slave trade.” But evidence from the Trans-Atlantic Slave Trade Database suggested otherwise. “The existence of the Trans-Atlantic Slave Trade Database immediately reshaped debates about numbers of women and children exported from the continent,” Johnson says, “influencing work on women in the slave trade on the African coast, slavery in African societies, and women in the slave trade to the Americas.”</p>
<p>Though the Trans-Atlantic Slave Trade Database helped shed new light on the roles of enslaved women and children, Johnson makes clear that it was not computation or data alone that shed this light:</p>
<blockquote>
<div><p>[D]isplaying data alone could not and did not offer the atonement descendants of slaves sought or capture the inhumanity of this archive’s formation. Culling the lives of women and children from the data set required approaching the data with intention. It required a methodology attuned to black life and to dismantling the methods used to create the manifests in the first place, then designing and launching an interface responsive to the desire of descendants of slaves for reparation and redress.</p>
</div></blockquote>
<p>In this spirit, we want to think about how responsible data analysis requires more than just data and technical tools like Pandas. It requires approaching data with intention and developing methodologies geared toward justice. This is especially necessary when dealing with data that records and perpetrates violence like the Trans-Atlantic Slave Trade Database.</p>
<hr class="docutils" />
<p><strong>Import Pandas</strong></p>
<p>To use the Pandas library, we first need to <code class="docutils literal notranslate"><span class="pre">import</span></code> it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>The above <code class="docutils literal notranslate"><span class="pre">import</span></code> statement not only imports the Pandas library but also gives it an alias or nickname — <code class="docutils literal notranslate"><span class="pre">pd</span></code>. This alias will save us from having to type out the entire words <code class="docutils literal notranslate"><span class="pre">pandas</span></code> each time we need to use it. Many Python libraries have commonly used aliases like <code class="docutils literal notranslate"><span class="pre">pd</span></code>.</p>
<p><strong>Set Display Settings</strong></p>
<p>By default, Pandas will display 60 rows and 20 columns. I often change <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/options.html">Pandas’ default display settings</a> to show more rows or columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Read in CSV File</strong></p>
<p>To read in a CSV file, we will use the function <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code> and insert the name of our desired file path.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/Trans-Atlantic-Slave-Trade_Americas.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This creates a Pandas <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/dsintro.html#DataFrame">DataFrame object</a> — often abbreviated as <em>df</em>, e.g., <em>slave_voyages_df</em>. A DataFrame looks and acts a lot like a spreadsheet. But it has special powers and functions that we will discuss in the next few lessons.</p>
<p>When reading in the CSV file, we also specified the <code class="docutils literal notranslate"><span class="pre">encoding</span></code> and <code class="docutils literal notranslate"><span class="pre">delimiter</span></code>. The <code class="docutils literal notranslate"><span class="pre">delimiter</span></code> specifies the character that separates or “delimits” the columns in our dataset. For CSV files, the delimiter will most often be a comma. (CSV is short for <em>Comma Separated Values</em>.) Sometimes, however, the delimiter of a CSV file might be a tab (<code class="docutils literal notranslate"><span class="pre">\t</span></code>) or, more rarely, another character.</p>
<p><strong>Display Data</strong></p>
<p>We can display a DataFrame in a Jupyter notebook simply by running a cell with the variable name of the DataFrame.</p>
<div class="margin sidebar">
<p class="sidebar-title">NaN</p>
<p><code class="docutils literal notranslate"><span class="pre">NaN</span></code> is the Pandas value for any missing data.</p>
<p>See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/missing_data.html?highlight=nan">“Working with missing data”</a> for more information</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>flag</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>sources</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1520</td>
      <td>NaN</td>
      <td>Portuguese Guinea</td>
      <td>San Juan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>324.0</td>
      <td>259.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>42987</td>
      <td>[u'AGI,Patronato 175, r.9&lt;&gt;&lt;p&gt;&lt;em&gt;AG!&lt;/em&gt; (Se...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1525</td>
      <td>Portugal / Brazil</td>
      <td>Sao Tome</td>
      <td>Hispaniola, unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td>S Maria de Bogoña</td>
      <td>Monteiro, Pero</td>
      <td>46473</td>
      <td>[u'ANTT,CC,Parte II, maco 131, doc 54&lt;&gt;&lt;i&gt;Inst...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1526</td>
      <td>Spain / Uruguay</td>
      <td>Cape Verde Islands</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td></td>
      <td>Carega, Esteban (?)</td>
      <td>11297</td>
      <td>[u'Pike,60-1,172&lt;&gt;Pike, Ruth, &lt;i&gt;Enterprise&lt;/i...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1526</td>
      <td>Spain / Uruguay</td>
      <td>Cape Verde Islands</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td></td>
      <td>Carega, Esteban (?)</td>
      <td>11298</td>
      <td>[u'Pike,60-1,172&lt;&gt;Pike, Ruth, &lt;i&gt;Enterprise&lt;/i...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1526</td>
      <td>NaN</td>
      <td>Cape Verde Islands</td>
      <td>Caribbean (colony unspecified)</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td>S Anton</td>
      <td>Leon, Juan de</td>
      <td>42631</td>
      <td>[u'Chaunus, 3: 162-63&lt;&gt;&lt;p&gt;Chaunus, &lt;em&gt;xxxxxx&lt;...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>20736</th>
      <td>1864</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>488.0</td>
      <td>465.0</td>
      <td>NaN</td>
      <td>Polaca</td>
      <td>NaN</td>
      <td>46554</td>
      <td>[u'AHNM, Ultramar, Leg. 3551, 6&lt;&gt;&lt;i&gt;Archivo Hi...</td>
    </tr>
    <tr>
      <th>20737</th>
      <td>1865</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Isla de Pinas</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>152.0</td>
      <td>145.0</td>
      <td>Slave insurrection</td>
      <td>Gato</td>
      <td>NaN</td>
      <td>4394</td>
      <td>[u'IUP,ST,50/B/137&lt;&gt;Great Britain, &lt;i&gt;Irish Un...</td>
    </tr>
    <tr>
      <th>20738</th>
      <td>1865</td>
      <td>NaN</td>
      <td>Africa., port unspecified</td>
      <td>Mariel</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>780.0</td>
      <td>650.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>4395</td>
      <td>[u'IUP,ST,50/B/144&lt;&gt;Great Britain, &lt;i&gt;Irish Un...</td>
    </tr>
    <tr>
      <th>20739</th>
      <td>1865</td>
      <td>NaN</td>
      <td>Congo River</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1265.0</td>
      <td>1004.0</td>
      <td>NaN</td>
      <td>Cicerón</td>
      <td>Mesquita</td>
      <td>5052</td>
      <td>[u'IUP,ST,50/A/23-4&lt;&gt;Great Britain, &lt;i&gt;Irish U...</td>
    </tr>
    <tr>
      <th>20740</th>
      <td>1866</td>
      <td>NaN</td>
      <td>Africa., port unspecified</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>851.0</td>
      <td>700.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>4998</td>
      <td>[u'IUP,ST,50/B/220&lt;&gt;Great Britain, &lt;i&gt;Irish Un...</td>
    </tr>
  </tbody>
</table>
<p>20741 rows × 14 columns</p>
</div></div></div>
</div>
<p>There are a few important things to note about the DataFrame displayed here:</p>
<ul class="simple">
<li><p>Index</p>
<ul>
<li><p>The bolded ascending numbers in the very left-hand column of the DataFrame is called the Pandas <em>Index</em>. You can select rows based on the Index.</p></li>
<li><p>By default, the Index is a sequence of numbers starting with zero. However, you can change the Index to something else, such as one of the columns in your dataset.</p></li>
</ul>
</li>
<li><p>Truncation</p>
<ul>
<li><p>The DataFrame is truncated, signaled by the ellipses in the middle <code class="docutils literal notranslate"><span class="pre">...</span></code> of every column.</p></li>
<li><p>The DataFrame is truncated because we set our default display settings to 100 rows. Anything more than 100 rows will be truncated. To display all the rows, we would need to alter Pandas’ default display settings yet again.</p></li>
</ul>
</li>
<li><p>Rows x Columns</p>
<ul>
<li><p>Pandas reports how many rows and columns are in this dataset at the bottom of the output (20,741 x 14 columns).</p></li>
</ul>
</li>
</ul>
<p><strong>Display First <em>n</em> Rows</strong></p>
<p>To look at the first <em>n</em> rows in a DataFrame, we can use a method called <code class="docutils literal notranslate"><span class="pre">.head()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>flag</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>sources</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1520</td>
      <td>NaN</td>
      <td>Portuguese Guinea</td>
      <td>San Juan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>324.0</td>
      <td>259.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>42987</td>
      <td>[u'AGI,Patronato 175, r.9&lt;&gt;&lt;p&gt;&lt;em&gt;AG!&lt;/em&gt; (Se...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1525</td>
      <td>Portugal / Brazil</td>
      <td>Sao Tome</td>
      <td>Hispaniola, unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td>S Maria de Bogoña</td>
      <td>Monteiro, Pero</td>
      <td>46473</td>
      <td>[u'ANTT,CC,Parte II, maco 131, doc 54&lt;&gt;&lt;i&gt;Inst...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1526</td>
      <td>Spain / Uruguay</td>
      <td>Cape Verde Islands</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td></td>
      <td>Carega, Esteban (?)</td>
      <td>11297</td>
      <td>[u'Pike,60-1,172&lt;&gt;Pike, Ruth, &lt;i&gt;Enterprise&lt;/i...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1526</td>
      <td>Spain / Uruguay</td>
      <td>Cape Verde Islands</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td></td>
      <td>Carega, Esteban (?)</td>
      <td>11298</td>
      <td>[u'Pike,60-1,172&lt;&gt;Pike, Ruth, &lt;i&gt;Enterprise&lt;/i...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1526</td>
      <td>NaN</td>
      <td>Cape Verde Islands</td>
      <td>Caribbean (colony unspecified)</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td>S Anton</td>
      <td>Leon, Juan de</td>
      <td>42631</td>
      <td>[u'Chaunus, 3: 162-63&lt;&gt;&lt;p&gt;Chaunus, &lt;em&gt;xxxxxx&lt;...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1526</td>
      <td>NaN</td>
      <td>Cape Verde Islands</td>
      <td>San Domingo (a) Santo Domingo</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td>Santa Maria de Guadalupe</td>
      <td>Pabon, Francisco</td>
      <td>42679</td>
      <td>[u'Chaunus, 3: 162-63&lt;&gt;&lt;p&gt;Chaunus, &lt;em&gt;xxxxxx&lt;...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1526</td>
      <td>Portugal / Brazil</td>
      <td>Sao Tome</td>
      <td>Spanish Caribbean, unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>46474</td>
      <td>[u'ANTT,CC,Parte II, maco 131, doc 54&lt;&gt;&lt;i&gt;Inst...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1527</td>
      <td>Spain / Uruguay</td>
      <td>Cape Verde Islands</td>
      <td>Puerto Rico, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>325.0</td>
      <td>260.0</td>
      <td>NaN</td>
      <td>Concepción</td>
      <td>Díaz, Alonso</td>
      <td>99027</td>
      <td>[u'SuedBadillo,57,75,76&lt;&gt;&lt;p&gt;SuedBadillo, &lt;em&gt;x...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1532</td>
      <td>Portugal / Brazil</td>
      <td>Sao Tome</td>
      <td>Spanish Caribbean, unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td>S Antônio</td>
      <td>Afonso, Martim</td>
      <td>11293</td>
      <td>[u'Ryder,66&lt;&gt;Ryder, A. F. C., &lt;i&gt;Benin&lt;/i&gt;&lt;i&gt; ...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1532</td>
      <td>NaN</td>
      <td>Cape Verde Islands</td>
      <td>San Juan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>25.0</td>
      <td>20.0</td>
      <td>NaN</td>
      <td></td>
      <td>de Illanes, Manuel</td>
      <td>28994</td>
      <td>[u'Tanodi, 321-22&lt;&gt;Tanodi, Aurelio, &lt;i&gt;Documen...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="examine-data">
<h2>Examine Data<a class="headerlink" href="#examine-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="shape">
<h3>Shape<a class="headerlink" href="#shape" title="Permalink to this headline">¶</a></h3>
<p>To explicitly check for how many rows vs columns make up a dataset, we can use the <code class="docutils literal notranslate"><span class="pre">.shape</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(20741, 14)
</pre></div>
</div>
</div>
</div>
<p>There are 20,741 rows and 14 columns.</p>
</div>
<div class="section" id="data-types">
<h3>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h3>
<p>Just like Python has different data types, Pandas has different data types, too. These data types are automatically assigned to columns when we read in a CSV file. We can check these Pandas data types with the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.dtypes.html"><code class="docutils literal notranslate"><span class="pre">.dtypes</span></code> method</a>.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p><strong>Pandas Data Type</strong></p></th>
<th class="text-align:center head"><p><strong>Explanation</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">object</span></code></p></td>
<td class="text-align:center"><p>string</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">float64</span></code></p></td>
<td class="text-align:center"><p>float</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">int64</span></code></p></td>
<td class="text-align:center"><p>integer</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><code class="docutils literal notranslate"><span class="pre">datetime64</span></code></p></td>
<td class="text-align:center"><p>date time</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>year_of_arrival        int64
flag                  object
place_of_purchase     object
place_of_landing      object
percent_women        float64
percent_children     float64
percent_men          float64
total_embarked       float64
total_disembarked    float64
resistance_label      object
vessel_name           object
captain&#39;s_name        object
voyage_id              int64
sources               object
dtype: object
</pre></div>
</div>
</div>
</div>
<p>It’s important to always check the data types in your DataFrame. For example, sometimes numeric values will accidentally be interpreted as a string object. To perform calculations on this data, you would need to first convert that column from a string to an integer.</p>
</div>
<div class="section" id="columns">
<h3>Columns<a class="headerlink" href="#columns" title="Permalink to this headline">¶</a></h3>
<p>We can also check the column names of the DataFrame with <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.columns.html"><code class="docutils literal notranslate"><span class="pre">.columns</span></code></a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;year_of_arrival&#39;, &#39;flag&#39;, &#39;place_of_purchase&#39;, &#39;place_of_landing&#39;,
       &#39;percent_women&#39;, &#39;percent_children&#39;, &#39;percent_men&#39;, &#39;total_embarked&#39;,
       &#39;total_disembarked&#39;, &#39;resistance_label&#39;, &#39;vessel_name&#39;,
       &#39;captain&#39;s_name&#39;, &#39;voyage_id&#39;, &#39;sources&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="summary-statistics">
<h3>Summary Statistics<a class="headerlink" href="#summary-statistics" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>flag</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>sources</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>20741.000000</td>
      <td>19583</td>
      <td>20663</td>
      <td>20741</td>
      <td>2894.000000</td>
      <td>2927.000000</td>
      <td>2894.000000</td>
      <td>20722.000000</td>
      <td>20719.000000</td>
      <td>372</td>
      <td>20741</td>
      <td>19396</td>
      <td>20741.000000</td>
      <td>20741</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>NaN</td>
      <td>8</td>
      <td>156</td>
      <td>187</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>6</td>
      <td>5849</td>
      <td>12233</td>
      <td>NaN</td>
      <td>13754</td>
    </tr>
    <tr>
      <th>top</th>
      <td>NaN</td>
      <td>Great Britain</td>
      <td>Africa., port unspecified</td>
      <td>Barbados, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Slave insurrection</td>
      <td></td>
      <td>Smith, John</td>
      <td>NaN</td>
      <td>[u'mettas,I&lt;&gt;Mettas, Jean,  &lt;i&gt;R\xe9pertoire d...</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>NaN</td>
      <td>10536</td>
      <td>5999</td>
      <td>2038</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>330</td>
      <td>712</td>
      <td>36</td>
      <td>NaN</td>
      <td>1134</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1752.014850</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.274198</td>
      <td>0.231582</td>
      <td>0.496648</td>
      <td>295.050381</td>
      <td>251.573966</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>42783.741671</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>std</th>
      <td>59.702189</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.116513</td>
      <td>0.149508</td>
      <td>0.140324</td>
      <td>147.997690</td>
      <td>128.050439</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>32401.785320</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1520.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>112.000000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1724.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.195265</td>
      <td>0.115380</td>
      <td>0.407460</td>
      <td>194.000000</td>
      <td>163.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>17862.000000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1765.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.264110</td>
      <td>0.215100</td>
      <td>0.497890</td>
      <td>282.000000</td>
      <td>241.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>31916.000000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1792.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.346150</td>
      <td>0.321900</td>
      <td>0.586765</td>
      <td>368.000000</td>
      <td>313.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>78283.000000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1866.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>2024.000000</td>
      <td>1700.000000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>900206.000000</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="missing-data">
<h2>Missing Data<a class="headerlink" href="#missing-data" title="Permalink to this headline">¶</a></h2>
<blockquote class="epigraph">
<div><p>The conceit of the archive is that it is the repository of answers, of knowable conclusions, of the data needed to explain or understand the past.</p>
<p>The reality, however, is that the archive is the troubled genesis of our always-failed effort to unravel the effects of the past on the present; rather than verifiable truths, the archive — and its silences — house the very questions that unsettle us.</p>
<p class="attribution">—Jennifer Morgan, <a class="reference external" href="https://read.dukeupress.edu/history-of-the-present/article-abstract/6/2/184/153282/Accounting-for-The-Most-Excruciating-Torment?redirectedFrom=PDF">“Accounting for ‘The Most Excruciating Torment’”</a></p>
</div></blockquote>
<p>Responsible data analysis requires understanding missing data. The Trans-Atlantic Slave Trade Database, as historian Jennifer Morgan <a class="reference external" href="https://read.dukeupress.edu/history-of-the-present/article-abstract/6/2/184/153282/Accounting-for-The-Most-Excruciating-Torment?redirectedFrom=PDF">writes</a>, contains innumerable “silences” and “gaps.” These silences include the thoughts, feelings, and experiences of the enslaved African people on board the voyages — silences that cannot be found in the database itself.</p>
<p>There are other kinds of silences and gaps that can be detected in the database itself, however. For example, while some of the voyages in the the Trans-Atlantic Slave Trade Database recorded information about how many enslaved women and children were aboard, most did not. Yet focusing on the data that is there and analyzing trends in the missing data can help shed light on the history of gender and enslavement. The fact that most ship captains did not record gender information, Morgan argues, helps tell us about their “priorities”: “[W]e can assume that had it been financially significant to have more men than women that data would have been more scrupulously recorded.”</p>
<div class="section" id="isna-notna">
<h3>.isna() / .notna()<a class="headerlink" href="#isna-notna" title="Permalink to this headline">¶</a></h3>
<p>Pandas has special ways of dealing with missing data. As you may have already noticed, blank rows in a CSV file show up as <code class="docutils literal notranslate"><span class="pre">NaN</span></code> in a Pandas DataFrame.</p>
<p>To filter and count the number of missing/not missing values in a dataset, we can use the special <code class="docutils literal notranslate"><span class="pre">.isna()</span></code> and <code class="docutils literal notranslate"><span class="pre">.notna()</span></code> methods on a DataFrame or Series object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        False
1        False
2        False
3        False
4        False
         ...  
20736    False
20737    False
20738    False
20739    False
20740    False
Name: percent_women, Length: 20741, dtype: bool
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">.isna()</span></code> and <code class="docutils literal notranslate"><span class="pre">.notna()</span></code> methods return True/False pairs for each row, which we can use to filter the DataFrame for any rows that have information in a given column. For example, we can filter the DataFrame for only rows that have information about the percentage of enslaved women aboard the voyage.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>flag</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>sources</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>938</th>
      <td>1613</td>
      <td>Portugal / Brazil</td>
      <td>Luanda</td>
      <td>Santo Tomas</td>
      <td>0.30556</td>
      <td>0.20588</td>
      <td>0.69444</td>
      <td>362.0</td>
      <td>290.0</td>
      <td>NaN</td>
      <td>NS de Nazareth</td>
      <td>Gómez, Juan</td>
      <td>47352</td>
      <td>[u'AGI-Esc 38B, pieza 2, folios 427r-427v&lt;&gt;&lt;p&gt;...</td>
    </tr>
    <tr>
      <th>1044</th>
      <td>1619</td>
      <td>Portugal / Brazil</td>
      <td>Luanda</td>
      <td>Veracruz</td>
      <td>0.21127</td>
      <td>0.21596</td>
      <td>0.57277</td>
      <td>349.0</td>
      <td>279.0</td>
      <td>NaN</td>
      <td>S Antônio</td>
      <td>Acosta, Jacome de</td>
      <td>29248</td>
      <td>[u'Vila Vilar,Cuadro3&lt;&gt;&lt;p&gt;Vila Vilar, Enriquet...</td>
    </tr>
    <tr>
      <th>1115</th>
      <td>1620</td>
      <td>Portugal / Brazil</td>
      <td>Luanda</td>
      <td>Buenos Aires</td>
      <td>0.13043</td>
      <td>0.29193</td>
      <td>0.57764</td>
      <td>381.0</td>
      <td>304.0</td>
      <td>NaN</td>
      <td>NS de Consolación</td>
      <td>Acosta, Gonçalo</td>
      <td>29561</td>
      <td>[u'AGI, Indiferente General, 2795&lt;&gt;&lt;p&gt;&lt;em&gt;AG!&lt;...</td>
    </tr>
    <tr>
      <th>1117</th>
      <td>1620</td>
      <td>NaN</td>
      <td>Luanda</td>
      <td>Cumana</td>
      <td>0.29570</td>
      <td>0.33571</td>
      <td>0.70430</td>
      <td>421.0</td>
      <td>337.0</td>
      <td>NaN</td>
      <td>NS de Rocha</td>
      <td>Sosa, Nicolás de&lt;br/&gt; Estéves, Domingo&lt;br/&gt; Ro...</td>
      <td>29941</td>
      <td>[u'AGI, Contratacion, 2881&lt;&gt;&lt;p&gt;&lt;em&gt;AG!&lt;/em&gt; (S...</td>
    </tr>
    <tr>
      <th>1334</th>
      <td>1628</td>
      <td>Portugal / Brazil</td>
      <td>West Central Africa and St. Helena, port unspe...</td>
      <td>Spanish Circum-Caribbean,unspecified</td>
      <td>0.16908</td>
      <td>0.58454</td>
      <td>0.24638</td>
      <td>303.0</td>
      <td>242.0</td>
      <td>NaN</td>
      <td>S Pedro</td>
      <td>Silva, Jacinto da</td>
      <td>29568</td>
      <td>[u'AGI, Indiferente General, 2796&lt;&gt;&lt;p&gt;&lt;em&gt;AG!&lt;...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>20295</th>
      <td>1841</td>
      <td>Portugal / Brazil</td>
      <td>Rio Pongo</td>
      <td>Cuba, port unspecified</td>
      <td>0.20548</td>
      <td>0.21233</td>
      <td>0.58219</td>
      <td>324.0</td>
      <td>292.0</td>
      <td>NaN</td>
      <td>Segunda Rosália</td>
      <td>Peirano, Francisco</td>
      <td>2078</td>
      <td>[u'PP,1845,XLIX:593-633&lt;&gt;Great Britain, &lt;i&gt;Par...</td>
    </tr>
    <tr>
      <th>20321</th>
      <td>1841</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Bahamas, port unspecified</td>
      <td>0.15758</td>
      <td>0.31548</td>
      <td>0.53939</td>
      <td>215.0</td>
      <td>193.0</td>
      <td>NaN</td>
      <td>Trovadore</td>
      <td>Velasea, de Bonita</td>
      <td>5503</td>
      <td>[u'Dalleo,24&lt;&gt;Dalleo, Peter D.,"Africans in th...</td>
    </tr>
    <tr>
      <th>20429</th>
      <td>1850</td>
      <td>NaN</td>
      <td>Benguela</td>
      <td>British Caribbean, colony unspecified</td>
      <td>0.00000</td>
      <td>1.00000</td>
      <td>0.00000</td>
      <td>94.0</td>
      <td>74.0</td>
      <td>NaN</td>
      <td>Amélia</td>
      <td>Oliveira, José</td>
      <td>4674</td>
      <td>[u'IUP,ST,38/A/208&lt;&gt;Great Britain, &lt;i&gt;Irish Un...</td>
    </tr>
    <tr>
      <th>20498</th>
      <td>1854</td>
      <td>U.S.A.</td>
      <td>Whydah</td>
      <td>Bahia Honda</td>
      <td>0.45455</td>
      <td>0.08333</td>
      <td>0.54545</td>
      <td>600.0</td>
      <td>584.0</td>
      <td>NaN</td>
      <td>Grey Eagle</td>
      <td>Darnaud</td>
      <td>4190</td>
      <td>[u'FO84/965,Crawford,55.02.07,enc&lt;&gt;&lt;p&gt;&lt;em&gt;BNA&lt;...</td>
    </tr>
    <tr>
      <th>20555</th>
      <td>1857</td>
      <td>NaN</td>
      <td>Cabinda</td>
      <td>Kingston</td>
      <td>0.08943</td>
      <td>0.00000</td>
      <td>0.91057</td>
      <td>500.0</td>
      <td>362.0</td>
      <td>NaN</td>
      <td>Zeldina</td>
      <td>NaN</td>
      <td>4229</td>
      <td>[u'IUP,ST,44/A/44,161&lt;&gt;Great Britain, &lt;i&gt;Irish...</td>
    </tr>
  </tbody>
</table>
<p>2894 rows × 14 columns</p>
</div></div></div>
</div>
<p>The data is now filtered to only include the 2,894 rows with information about how many women were aboard the voyage.</p>
<p>To explicitly count the number of blank rows, we can use the <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True     17847
False     2894
Name: percent_women, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>There are 17,874 that do not contain information about the number of enslaved women on the voyage (<code class="docutils literal notranslate"><span class="pre">isna</span></code> = True) and 2,894 rows that do contain this information (<code class="docutils literal notranslate"><span class="pre">isna</span></code> = False).</p>
<p>To quickly transform these numbers into percentages, we can set the <code class="docutils literal notranslate"><span class="pre">normalize=</span></code> parameter to True.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True     0.86047
False    0.13953
Name: percent_women, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>About 14% of rows in this dataset have information about the number of enslaved women on the voyage while 86% do not.</p>
</div>
<div class="section" id="count">
<h3>.count()<a class="headerlink" href="#count" title="Permalink to this headline">¶</a></h3>
<p>Because the <code class="docutils literal notranslate"><span class="pre">.count()</span></code> method always excludes NaN values, we can also count the number of values in each column and divide by the total number of rows in each column (<code class="docutils literal notranslate"><span class="pre">len()</span></code>) to find the percentage of not blank data in every column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">slave_voyages_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>year_of_arrival      1.000000
flag                 0.944169
place_of_purchase    0.996239
place_of_landing     1.000000
percent_women        0.139530
percent_children     0.141121
percent_men          0.139530
total_embarked       0.999084
total_disembarked    0.998939
resistance_label     0.017935
vessel_name          1.000000
captain&#39;s_name       0.935153
voyage_id            1.000000
sources              1.000000
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>For example, 100% of the rows in the columns “year_of_arrival” contain information, while 2% of the rows in the column “resistance_label” contain information. The “resistance_label” indicates whether there is a record of the enslaved Africans aboard the voyage staging some form of resistance.</p>
</div>
<div class="section" id="fillna">
<h3>.fillna()<a class="headerlink" href="#fillna" title="Permalink to this headline">¶</a></h3>
<p>If we wanted, we could fill the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values in the DataFrame with a different value by using the <code class="docutils literal notranslate"><span class="pre">.fillna()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;no gender information recorded&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0        no gender information recorded
1        no gender information recorded
2        no gender information recorded
3        no gender information recorded
4        no gender information recorded
                      ...              
20736    no gender information recorded
20737    no gender information recorded
20738    no gender information recorded
20739    no gender information recorded
20740    no gender information recorded
Name: percent_women, Length: 20741, dtype: object
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="rename-columns">
<h2>Rename Columns<a class="headerlink" href="#rename-columns" title="Permalink to this headline">¶</a></h2>
<p>We can rename columns with the <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.rename.html"><code class="docutils literal notranslate"><span class="pre">.rename()</span></code> method</a> and the <code class="docutils literal notranslate"><span class="pre">columns=</span></code> parameter. For example, we can rename the “flag” column “national_affiliation.”</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;flag&#39;</span><span class="p">:</span> <span class="s1">&#39;national_affiliation&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>national_affiliation</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>sources</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1520</td>
      <td>NaN</td>
      <td>Portuguese Guinea</td>
      <td>San Juan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>324.0</td>
      <td>259.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>42987</td>
      <td>[u'AGI,Patronato 175, r.9&lt;&gt;&lt;p&gt;&lt;em&gt;AG!&lt;/em&gt; (Se...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1525</td>
      <td>Portugal / Brazil</td>
      <td>Sao Tome</td>
      <td>Hispaniola, unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td>S Maria de Bogoña</td>
      <td>Monteiro, Pero</td>
      <td>46473</td>
      <td>[u'ANTT,CC,Parte II, maco 131, doc 54&lt;&gt;&lt;i&gt;Inst...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1526</td>
      <td>Spain / Uruguay</td>
      <td>Cape Verde Islands</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td></td>
      <td>Carega, Esteban (?)</td>
      <td>11297</td>
      <td>[u'Pike,60-1,172&lt;&gt;Pike, Ruth, &lt;i&gt;Enterprise&lt;/i...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1526</td>
      <td>Spain / Uruguay</td>
      <td>Cape Verde Islands</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td></td>
      <td>Carega, Esteban (?)</td>
      <td>11298</td>
      <td>[u'Pike,60-1,172&lt;&gt;Pike, Ruth, &lt;i&gt;Enterprise&lt;/i...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1526</td>
      <td>NaN</td>
      <td>Cape Verde Islands</td>
      <td>Caribbean (colony unspecified)</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>359.0</td>
      <td>287.0</td>
      <td>NaN</td>
      <td>S Anton</td>
      <td>Leon, Juan de</td>
      <td>42631</td>
      <td>[u'Chaunus, 3: 162-63&lt;&gt;&lt;p&gt;Chaunus, &lt;em&gt;xxxxxx&lt;...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>20736</th>
      <td>1864</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>488.0</td>
      <td>465.0</td>
      <td>NaN</td>
      <td>Polaca</td>
      <td>NaN</td>
      <td>46554</td>
      <td>[u'AHNM, Ultramar, Leg. 3551, 6&lt;&gt;&lt;i&gt;Archivo Hi...</td>
    </tr>
    <tr>
      <th>20737</th>
      <td>1865</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Isla de Pinas</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>152.0</td>
      <td>145.0</td>
      <td>Slave insurrection</td>
      <td>Gato</td>
      <td>NaN</td>
      <td>4394</td>
      <td>[u'IUP,ST,50/B/137&lt;&gt;Great Britain, &lt;i&gt;Irish Un...</td>
    </tr>
    <tr>
      <th>20738</th>
      <td>1865</td>
      <td>NaN</td>
      <td>Africa., port unspecified</td>
      <td>Mariel</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>780.0</td>
      <td>650.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>4395</td>
      <td>[u'IUP,ST,50/B/144&lt;&gt;Great Britain, &lt;i&gt;Irish Un...</td>
    </tr>
    <tr>
      <th>20739</th>
      <td>1865</td>
      <td>NaN</td>
      <td>Congo River</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1265.0</td>
      <td>1004.0</td>
      <td>NaN</td>
      <td>Cicerón</td>
      <td>Mesquita</td>
      <td>5052</td>
      <td>[u'IUP,ST,50/A/23-4&lt;&gt;Great Britain, &lt;i&gt;Irish U...</td>
    </tr>
    <tr>
      <th>20740</th>
      <td>1866</td>
      <td>NaN</td>
      <td>Africa., port unspecified</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>851.0</td>
      <td>700.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>4998</td>
      <td>[u'IUP,ST,50/B/220&lt;&gt;Great Britain, &lt;i&gt;Irish Un...</td>
    </tr>
  </tbody>
</table>
<p>20741 rows × 14 columns</p>
</div></div></div>
</div>
<p>Renaming the “flag” column as above will only momentarily change that column’s name, however. If we display our DataFrame, we will see that the column name has <em>not</em> changed permamently.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>flag</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>sources</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1520</td>
      <td>NaN</td>
      <td>Portuguese Guinea</td>
      <td>San Juan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>324.0</td>
      <td>259.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>42987</td>
      <td>[u'AGI,Patronato 175, r.9&lt;&gt;&lt;p&gt;&lt;em&gt;AG!&lt;/em&gt; (Se...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>To save changes in the DataFrame, we need to reassign the DataFrame to the same variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span> <span class="o">=</span> <span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;flag&#39;</span><span class="p">:</span> <span class="s1">&#39;national_affiliation&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>national_affiliation</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>sources</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1520</td>
      <td>NaN</td>
      <td>Portuguese Guinea</td>
      <td>San Juan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>324.0</td>
      <td>259.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>42987</td>
      <td>[u'AGI,Patronato 175, r.9&lt;&gt;&lt;p&gt;&lt;em&gt;AG!&lt;/em&gt; (Se...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="drop-columns">
<h2>Drop Columns<a class="headerlink" href="#drop-columns" title="Permalink to this headline">¶</a></h2>
<p>We can remove a column from the DataFrame with the <code class="docutils literal notranslate"><span class="pre">.drop()</span></code> method and the column name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span> <span class="o">=</span> <span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s2">&quot;sources&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;year_of_arrival&#39;, &#39;national_affiliation&#39;, &#39;place_of_purchase&#39;,
       &#39;place_of_landing&#39;, &#39;percent_women&#39;, &#39;percent_children&#39;, &#39;percent_men&#39;,
       &#39;total_embarked&#39;, &#39;total_disembarked&#39;, &#39;resistance_label&#39;,
       &#39;vessel_name&#39;, &#39;captain&#39;s_name&#39;, &#39;voyage_id&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="add-columns">
<h2>Add Columns<a class="headerlink" href="#add-columns" title="Permalink to this headline">¶</a></h2>
<p>To add a column, we simply put a new column name in square brackets and set it equal to whatever we want the new column to be.</p>
<p>For example, if we wanted to create new columns for the total women and men aboard each voyage, we could set them equal to the product of the “total_disembarked” column * the “percent_women” / “percent_men” columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;total_women&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;total_embarked&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;total_men&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;total_embarked&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_men&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>If we scroll all the way to the right side of the DataFrame, we can see that these columns have been added.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>national_affiliation</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>total_women</th>
      <th>total_men</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1520</td>
      <td>NaN</td>
      <td>Portuguese Guinea</td>
      <td>San Juan</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>324.0</td>
      <td>259.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>42987</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="sort-columns">
<h2>Sort Columns<a class="headerlink" href="#sort-columns" title="Permalink to this headline">¶</a></h2>
<p>We can sort a DataFrame with the <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> method, inside of which we include the parameter <code class="docutils literal notranslate"><span class="pre">by=</span></code> and indicate the name of the column we want to sort by (written in quotation marks).</p>
<p>For example, we can sort the DataFrame by the voyages that had the largest proportion of enslaved women aboard.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;percent_women&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>national_affiliation</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>total_women</th>
      <th>total_men</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>19042</th>
      <td>1819</td>
      <td>Spain / Uruguay</td>
      <td>Luanda</td>
      <td>Havana</td>
      <td>1.00000</td>
      <td>0.00000</td>
      <td>0.00000</td>
      <td>82.0</td>
      <td>73.0</td>
      <td>NaN</td>
      <td>S José Diligente</td>
      <td>Estepa</td>
      <td>14378</td>
      <td>82.00000</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>4269</th>
      <td>1715</td>
      <td>France</td>
      <td>Senegambia and offshore Atlantic, port unspeci...</td>
      <td>Cap Francais</td>
      <td>0.74747</td>
      <td>0.16162</td>
      <td>0.09091</td>
      <td>120.0</td>
      <td>118.0</td>
      <td>NaN</td>
      <td>Elisabeth</td>
      <td>Beliveau</td>
      <td>31883</td>
      <td>89.69640</td>
      <td>10.90920</td>
    </tr>
    <tr>
      <th>1741</th>
      <td>1659</td>
      <td>Netherlands</td>
      <td>Bonny</td>
      <td>Jamaica, port unspecified</td>
      <td>0.72500</td>
      <td>0.05882</td>
      <td>0.27500</td>
      <td>195.0</td>
      <td>85.0</td>
      <td>NaN</td>
      <td>S Jan</td>
      <td>Veer, Adriaen Blaes van der</td>
      <td>21566</td>
      <td>141.37500</td>
      <td>53.62500</td>
    </tr>
    <tr>
      <th>19047</th>
      <td>1819</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Havana</td>
      <td>0.71429</td>
      <td>0.00000</td>
      <td>0.28571</td>
      <td>178.0</td>
      <td>161.0</td>
      <td>NaN</td>
      <td>Descubridor</td>
      <td>Benoit&lt;br/&gt; Valdes</td>
      <td>14868</td>
      <td>127.14362</td>
      <td>50.85638</td>
    </tr>
    <tr>
      <th>18950</th>
      <td>1818</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Havana</td>
      <td>0.69355</td>
      <td>0.30645</td>
      <td>0.00000</td>
      <td>69.0</td>
      <td>62.0</td>
      <td>NaN</td>
      <td>Vencedor</td>
      <td>Iturrondo</td>
      <td>14857</td>
      <td>47.85495</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>20736</th>
      <td>1864</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>488.0</td>
      <td>465.0</td>
      <td>NaN</td>
      <td>Polaca</td>
      <td>NaN</td>
      <td>46554</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>20737</th>
      <td>1865</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Isla de Pinas</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>152.0</td>
      <td>145.0</td>
      <td>Slave insurrection</td>
      <td>Gato</td>
      <td>NaN</td>
      <td>4394</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>20738</th>
      <td>1865</td>
      <td>NaN</td>
      <td>Africa., port unspecified</td>
      <td>Mariel</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>780.0</td>
      <td>650.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>4395</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>20739</th>
      <td>1865</td>
      <td>NaN</td>
      <td>Congo River</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1265.0</td>
      <td>1004.0</td>
      <td>NaN</td>
      <td>Cicerón</td>
      <td>Mesquita</td>
      <td>5052</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>20740</th>
      <td>1866</td>
      <td>NaN</td>
      <td>Africa., port unspecified</td>
      <td>Cuba, port unspecified</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>851.0</td>
      <td>700.0</td>
      <td>NaN</td>
      <td></td>
      <td>NaN</td>
      <td>4998</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>20741 rows × 15 columns</p>
</div></div></div>
</div>
<p>By default, Pandas will sort in “ascending” order, from the smallest value to the largest value. If we want to sort the largest values first, we need to include another parameter <code class="docutils literal notranslate"><span class="pre">ascending=False</span></code>.</p>
<p>Because the DataFrame is truncated when it has more than 100 rows, we can use a Python list slice to view the top 30 (or any number less than 100) voyages with enslaved women aboard.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;percent_women&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">30</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>national_affiliation</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>total_women</th>
      <th>total_men</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>19042</th>
      <td>1819</td>
      <td>Spain / Uruguay</td>
      <td>Luanda</td>
      <td>Havana</td>
      <td>1.00000</td>
      <td>0.00000</td>
      <td>0.00000</td>
      <td>82.0</td>
      <td>73.0</td>
      <td>NaN</td>
      <td>S José Diligente</td>
      <td>Estepa</td>
      <td>14378</td>
      <td>82.00000</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>4269</th>
      <td>1715</td>
      <td>France</td>
      <td>Senegambia and offshore Atlantic, port unspeci...</td>
      <td>Cap Francais</td>
      <td>0.74747</td>
      <td>0.16162</td>
      <td>0.09091</td>
      <td>120.0</td>
      <td>118.0</td>
      <td>NaN</td>
      <td>Elisabeth</td>
      <td>Beliveau</td>
      <td>31883</td>
      <td>89.69640</td>
      <td>10.90920</td>
    </tr>
    <tr>
      <th>1741</th>
      <td>1659</td>
      <td>Netherlands</td>
      <td>Bonny</td>
      <td>Jamaica, port unspecified</td>
      <td>0.72500</td>
      <td>0.05882</td>
      <td>0.27500</td>
      <td>195.0</td>
      <td>85.0</td>
      <td>NaN</td>
      <td>S Jan</td>
      <td>Veer, Adriaen Blaes van der</td>
      <td>21566</td>
      <td>141.37500</td>
      <td>53.62500</td>
    </tr>
    <tr>
      <th>19047</th>
      <td>1819</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Havana</td>
      <td>0.71429</td>
      <td>0.00000</td>
      <td>0.28571</td>
      <td>178.0</td>
      <td>161.0</td>
      <td>NaN</td>
      <td>Descubridor</td>
      <td>Benoit&lt;br/&gt; Valdes</td>
      <td>14868</td>
      <td>127.14362</td>
      <td>50.85638</td>
    </tr>
    <tr>
      <th>18950</th>
      <td>1818</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Havana</td>
      <td>0.69355</td>
      <td>0.30645</td>
      <td>0.00000</td>
      <td>69.0</td>
      <td>62.0</td>
      <td>NaN</td>
      <td>Vencedor</td>
      <td>Iturrondo</td>
      <td>14857</td>
      <td>47.85495</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>19037</th>
      <td>1819</td>
      <td>Spain / Uruguay</td>
      <td>Ambriz</td>
      <td>Havana</td>
      <td>0.68456</td>
      <td>0.00000</td>
      <td>0.31544</td>
      <td>164.0</td>
      <td>149.0</td>
      <td>NaN</td>
      <td>Supremo Habanero</td>
      <td>Blanco, Pedro</td>
      <td>14372</td>
      <td>112.26784</td>
      <td>51.73216</td>
    </tr>
    <tr>
      <th>4894</th>
      <td>1721</td>
      <td>France</td>
      <td>Benin</td>
      <td>Martinique, port unspecified</td>
      <td>0.67797</td>
      <td>0.15254</td>
      <td>0.16949</td>
      <td>69.0</td>
      <td>59.0</td>
      <td>NaN</td>
      <td>Saint Jean Triomphant</td>
      <td>Gaulart, J</td>
      <td>33087</td>
      <td>46.77993</td>
      <td>11.69481</td>
    </tr>
    <tr>
      <th>4150</th>
      <td>1714</td>
      <td>Great Britain</td>
      <td>Calabar</td>
      <td>Saint John (Antigua)</td>
      <td>0.66667</td>
      <td>0.16667</td>
      <td>0.33333</td>
      <td>360.0</td>
      <td>240.0</td>
      <td>NaN</td>
      <td>Florida</td>
      <td>Payne, Samuel</td>
      <td>75489</td>
      <td>240.00120</td>
      <td>119.99880</td>
    </tr>
    <tr>
      <th>6259</th>
      <td>1734</td>
      <td>Netherlands</td>
      <td>Jacquin</td>
      <td>Suriname</td>
      <td>0.66480</td>
      <td>0.09078</td>
      <td>0.24441</td>
      <td>716.0</td>
      <td>374.0</td>
      <td>NaN</td>
      <td>Rusthof</td>
      <td>Bovenmans, Anthony&lt;br/&gt; Theunissen, Willem</td>
      <td>10278</td>
      <td>475.99680</td>
      <td>174.99756</td>
    </tr>
    <tr>
      <th>1823</th>
      <td>1664</td>
      <td>Great Britain</td>
      <td>New Calabar</td>
      <td>Barbados, port unspecified</td>
      <td>0.65217</td>
      <td>0.08696</td>
      <td>0.26087</td>
      <td>242.0</td>
      <td>168.0</td>
      <td>NaN</td>
      <td>Elizabeth</td>
      <td>Francis, William</td>
      <td>9558</td>
      <td>157.82514</td>
      <td>63.13054</td>
    </tr>
    <tr>
      <th>1799</th>
      <td>1663</td>
      <td>Great Britain</td>
      <td>Ardra</td>
      <td>Barbados, port unspecified</td>
      <td>0.64667</td>
      <td>0.00000</td>
      <td>0.35333</td>
      <td>373.0</td>
      <td>150.0</td>
      <td>NaN</td>
      <td>Blackamore</td>
      <td>Bowles</td>
      <td>9552</td>
      <td>241.20791</td>
      <td>131.79209</td>
    </tr>
    <tr>
      <th>15471</th>
      <td>1792</td>
      <td>Great Britain</td>
      <td>Calabar</td>
      <td>Grenada, port unspecified</td>
      <td>0.64646</td>
      <td>0.06965</td>
      <td>0.29798</td>
      <td>200.0</td>
      <td>135.0</td>
      <td>NaN</td>
      <td>Fame</td>
      <td>Jenkins, William</td>
      <td>18138</td>
      <td>129.29200</td>
      <td>59.59600</td>
    </tr>
    <tr>
      <th>1824</th>
      <td>1664</td>
      <td>Great Britain</td>
      <td>Bight of Biafra and Gulf of Guinea Islands, po...</td>
      <td>Jamaica, port unspecified</td>
      <td>0.64324</td>
      <td>0.12973</td>
      <td>0.22703</td>
      <td>267.0</td>
      <td>185.0</td>
      <td>NaN</td>
      <td>Allepine</td>
      <td>Thwaites, William</td>
      <td>9559</td>
      <td>171.74508</td>
      <td>60.61701</td>
    </tr>
    <tr>
      <th>5049</th>
      <td>1723</td>
      <td>Great Britain</td>
      <td>Cabinda</td>
      <td>Jamaica, port unspecified</td>
      <td>0.64141</td>
      <td>0.26768</td>
      <td>0.09091</td>
      <td>201.0</td>
      <td>198.0</td>
      <td>NaN</td>
      <td>Royal African Packet</td>
      <td>Cornwell, Henry</td>
      <td>76460</td>
      <td>128.92341</td>
      <td>18.27291</td>
    </tr>
    <tr>
      <th>2151</th>
      <td>1677</td>
      <td>Great Britain</td>
      <td>Calabar</td>
      <td>Barbados, port unspecified</td>
      <td>0.63816</td>
      <td>0.03289</td>
      <td>0.32895</td>
      <td>219.0</td>
      <td>152.0</td>
      <td>NaN</td>
      <td>Lenox</td>
      <td>Wilkins, Amos</td>
      <td>9980</td>
      <td>139.75704</td>
      <td>72.04005</td>
    </tr>
    <tr>
      <th>17618</th>
      <td>1804</td>
      <td>Spain / Uruguay</td>
      <td>Africa., port unspecified</td>
      <td>Buenos Aires</td>
      <td>0.63333</td>
      <td>0.05000</td>
      <td>0.31667</td>
      <td>160.0</td>
      <td>81.0</td>
      <td>NaN</td>
      <td>S Ana</td>
      <td>Amaro, Rodriguez de Oliveira</td>
      <td>96099</td>
      <td>101.33280</td>
      <td>50.66720</td>
    </tr>
    <tr>
      <th>19040</th>
      <td>1819</td>
      <td>Spain / Uruguay</td>
      <td>Luanda</td>
      <td>Havana</td>
      <td>0.62201</td>
      <td>0.00000</td>
      <td>0.37799</td>
      <td>219.0</td>
      <td>209.0</td>
      <td>NaN</td>
      <td>Clarita</td>
      <td>Carballo, Alberto</td>
      <td>14375</td>
      <td>136.22019</td>
      <td>82.77981</td>
    </tr>
    <tr>
      <th>2318</th>
      <td>1681</td>
      <td>Great Britain</td>
      <td>Gold Coast, port unspecified</td>
      <td>Jamaica, port unspecified</td>
      <td>0.62048</td>
      <td>0.07831</td>
      <td>0.30120</td>
      <td>400.0</td>
      <td>170.0</td>
      <td>NaN</td>
      <td>African</td>
      <td>Mingham, John</td>
      <td>9918</td>
      <td>248.19200</td>
      <td>120.48000</td>
    </tr>
    <tr>
      <th>4364</th>
      <td>1716</td>
      <td>France</td>
      <td>Goree</td>
      <td>Leogane</td>
      <td>0.62025</td>
      <td>0.20736</td>
      <td>0.37975</td>
      <td>411.0</td>
      <td>402.0</td>
      <td>NaN</td>
      <td>Duc d'Orléans</td>
      <td>Villers, Chevalier de</td>
      <td>31886</td>
      <td>254.92275</td>
      <td>156.07725</td>
    </tr>
    <tr>
      <th>5259</th>
      <td>1725</td>
      <td>France</td>
      <td>Senegambia and offshore Atlantic, port unspeci...</td>
      <td>Cap Francais</td>
      <td>0.61353</td>
      <td>0.05314</td>
      <td>0.33333</td>
      <td>210.0</td>
      <td>207.0</td>
      <td>NaN</td>
      <td>Prothée</td>
      <td>Hantier, J</td>
      <td>32873</td>
      <td>128.84130</td>
      <td>69.99930</td>
    </tr>
    <tr>
      <th>4773</th>
      <td>1720</td>
      <td>France</td>
      <td>Formosa</td>
      <td>Martinique, port unspecified</td>
      <td>0.61207</td>
      <td>0.25862</td>
      <td>0.12931</td>
      <td>215.0</td>
      <td>176.0</td>
      <td>Slave insurrection</td>
      <td>Don de Dieu</td>
      <td>Masson Du Bocage, Guillaume</td>
      <td>33119</td>
      <td>131.59505</td>
      <td>27.80165</td>
    </tr>
    <tr>
      <th>2591</th>
      <td>1686</td>
      <td>Great Britain</td>
      <td>New Calabar</td>
      <td>Newcastle (Nevis)</td>
      <td>0.60656</td>
      <td>0.14754</td>
      <td>0.24590</td>
      <td>267.0</td>
      <td>111.0</td>
      <td>NaN</td>
      <td>Francis</td>
      <td>Wimple, Ralph</td>
      <td>9838</td>
      <td>161.95152</td>
      <td>65.65530</td>
    </tr>
    <tr>
      <th>2182</th>
      <td>1678</td>
      <td>Great Britain</td>
      <td>Calabar</td>
      <td>Jamaica, port unspecified</td>
      <td>0.60526</td>
      <td>0.04605</td>
      <td>0.34868</td>
      <td>219.0</td>
      <td>152.0</td>
      <td>NaN</td>
      <td>Vine</td>
      <td>Coleman, John</td>
      <td>9987</td>
      <td>132.55194</td>
      <td>76.36092</td>
    </tr>
    <tr>
      <th>5543</th>
      <td>1727</td>
      <td>Great Britain</td>
      <td>Africa., port unspecified</td>
      <td>Rappahannock</td>
      <td>0.60440</td>
      <td>0.35000</td>
      <td>0.39560</td>
      <td>161.0</td>
      <td>140.0</td>
      <td>NaN</td>
      <td>John and Betty</td>
      <td>Denton, William</td>
      <td>92352</td>
      <td>97.30840</td>
      <td>63.69160</td>
    </tr>
    <tr>
      <th>2540</th>
      <td>1685</td>
      <td>Great Britain</td>
      <td>Cape Coast Castle</td>
      <td>Jamaica, port unspecified</td>
      <td>0.59917</td>
      <td>0.00000</td>
      <td>0.40083</td>
      <td>310.0</td>
      <td>242.0</td>
      <td>NaN</td>
      <td>Jefferie</td>
      <td>Daile, Benjamin</td>
      <td>9669</td>
      <td>185.74270</td>
      <td>124.25730</td>
    </tr>
    <tr>
      <th>4736</th>
      <td>1719</td>
      <td>France</td>
      <td>Africa., port unspecified</td>
      <td>Cayenne</td>
      <td>0.59524</td>
      <td>0.16667</td>
      <td>0.23810</td>
      <td>52.0</td>
      <td>42.0</td>
      <td>NaN</td>
      <td>Fidèle</td>
      <td>Bonneau, Jean</td>
      <td>30111</td>
      <td>30.95248</td>
      <td>12.38120</td>
    </tr>
    <tr>
      <th>2327</th>
      <td>1681</td>
      <td>Great Britain</td>
      <td>New Calabar</td>
      <td>Barbados, port unspecified</td>
      <td>0.59231</td>
      <td>0.06923</td>
      <td>0.33846</td>
      <td>232.0</td>
      <td>130.0</td>
      <td>NaN</td>
      <td>Hope</td>
      <td>Grible, John</td>
      <td>9927</td>
      <td>137.41592</td>
      <td>78.52272</td>
    </tr>
    <tr>
      <th>2377</th>
      <td>1682</td>
      <td>Great Britain</td>
      <td>Calabar</td>
      <td>Jamaica, port unspecified</td>
      <td>0.58879</td>
      <td>0.08411</td>
      <td>0.32710</td>
      <td>164.0</td>
      <td>114.0</td>
      <td>NaN</td>
      <td>Arthur</td>
      <td>Penny, George</td>
      <td>9898</td>
      <td>96.56156</td>
      <td>53.64440</td>
    </tr>
    <tr>
      <th>2376</th>
      <td>1682</td>
      <td>Great Britain</td>
      <td>Calabar</td>
      <td>Newcastle (Nevis)</td>
      <td>0.58696</td>
      <td>0.11957</td>
      <td>0.29348</td>
      <td>146.0</td>
      <td>119.0</td>
      <td>NaN</td>
      <td>Eaglet</td>
      <td>Waugh, John</td>
      <td>9896</td>
      <td>85.69616</td>
      <td>42.84808</td>
    </tr>
    <tr>
      <th>1833</th>
      <td>1664</td>
      <td>Great Britain</td>
      <td>Calabar</td>
      <td>Barbados, port unspecified</td>
      <td>0.58549</td>
      <td>0.15544</td>
      <td>0.25907</td>
      <td>278.0</td>
      <td>193.0</td>
      <td>NaN</td>
      <td>Success</td>
      <td>Duke, Abraham</td>
      <td>9584</td>
      <td>162.76622</td>
      <td>72.02146</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If we want to sort a Series object, we don’t need to use the <code class="docutils literal notranslate"><span class="pre">by=</span></code> paramter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;total_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6259     475.996800
18822    316.640164
2264     311.833480
6163     303.000180
3129     301.764000
            ...    
20736           NaN
20737           NaN
20738           NaN
20739           NaN
20740           NaN
Name: total_women, Length: 20741, dtype: float64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="calculate-columns">
<h2>Calculate Columns<a class="headerlink" href="#calculate-columns" title="Permalink to this headline">¶</a></h2>
<p>We can do different calculations on columns with built-in Pandas functions. These calculations will ignore <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Pandas calculations</p></th>
<th class="head"><p>Explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.count()</span></code></p></td>
<td><p>Number of observations</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.sum()</span></code></p></td>
<td><p>Sum of values</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.mean()</span></code></p></td>
<td><p>Mean of values</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.median()</span></code></p></td>
<td><p>Median of values</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.min()</span></code></p></td>
<td><p>Minimum</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.max()</span></code></p></td>
<td><p>Maximum</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.mode()</span></code></p></td>
<td><p>Mode</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.std()</span></code></p></td>
<td><p>Unbiased standard deviation</p></td>
</tr>
</tbody>
</table>
<p>For example, to find the average proprotion of enslaved women aboard the voyages (for voyages that have this information), we can use the <code class="docutils literal notranslate"><span class="pre">.mean()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.27419760653973735
</pre></div>
</div>
</div>
</div>
<p>There were on average 27% enslaved women aboard the voyages for voyages that recorded this information.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.0
</pre></div>
</div>
</div>
</div>
<p>The highest percentage of women aboard the slave voyages was 100%. We can use this calculation as a filter to identify the voyage(s) with this maximum value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>national_affiliation</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>total_women</th>
      <th>total_men</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>19042</th>
      <td>1819</td>
      <td>Spain / Uruguay</td>
      <td>Luanda</td>
      <td>Havana</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>82.0</td>
      <td>73.0</td>
      <td>NaN</td>
      <td>S José Diligente</td>
      <td>Estepa</td>
      <td>14378</td>
      <td>82.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>According to the Trans-Atlantic Slave Trade Database, the 1819 voyage of the S José Diligente had 100% enslaved women aboard.</p>
<p>As demonstrated previously, we can also perform calculations with columns themselves.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;total_embarked&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>475.99679999999995
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="groupby-columns">
<h2>Groupby Columns<a class="headerlink" href="#groupby-columns" title="Permalink to this headline">¶</a></h2>
<p>The Pandas function<code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> allows us to group data and perform calculations on the groups.</p>
<p>For example, Jennifer Morgan writes about how some nations recorded more information about the gender of the enslaved people aboard their voyages than other nations did. To see the breakdown of gender information by nation, we can use a <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> function.</p>
<p>The first step to using groupby is to type the name of the DataFrame followed by <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> with the column we’d like to aggregate based on, such as “national_affiliation.”</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;national_affiliation&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7fdd2d0c2150&gt;
</pre></div>
</div>
</div>
</div>
<p>This action will created a <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html">GroupBy object</a>. We can perform calculations on this grouped data, such as counting the number of non-blank values in each column for each nation.</p>
<div class="cell tag_full-width docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;national_affiliation&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_of_arrival</th>
      <th>place_of_purchase</th>
      <th>place_of_landing</th>
      <th>percent_women</th>
      <th>percent_children</th>
      <th>percent_men</th>
      <th>total_embarked</th>
      <th>total_disembarked</th>
      <th>resistance_label</th>
      <th>vessel_name</th>
      <th>captain's_name</th>
      <th>voyage_id</th>
      <th>total_women</th>
      <th>total_men</th>
    </tr>
    <tr>
      <th>national_affiliation</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Denmark / Baltic</th>
      <td>290</td>
      <td>290</td>
      <td>290</td>
      <td>119</td>
      <td>119</td>
      <td>119</td>
      <td>290</td>
      <td>290</td>
      <td>8</td>
      <td>290</td>
      <td>163</td>
      <td>290</td>
      <td>119</td>
      <td>119</td>
    </tr>
    <tr>
      <th>France</th>
      <td>3381</td>
      <td>3377</td>
      <td>3381</td>
      <td>708</td>
      <td>709</td>
      <td>708</td>
      <td>3381</td>
      <td>3381</td>
      <td>121</td>
      <td>3381</td>
      <td>3289</td>
      <td>3381</td>
      <td>708</td>
      <td>708</td>
    </tr>
    <tr>
      <th>Great Britain</th>
      <td>10536</td>
      <td>10530</td>
      <td>10536</td>
      <td>1123</td>
      <td>1151</td>
      <td>1123</td>
      <td>10526</td>
      <td>10525</td>
      <td>152</td>
      <td>10536</td>
      <td>10226</td>
      <td>10536</td>
      <td>1123</td>
      <td>1123</td>
    </tr>
    <tr>
      <th>Netherlands</th>
      <td>1389</td>
      <td>1341</td>
      <td>1389</td>
      <td>200</td>
      <td>201</td>
      <td>200</td>
      <td>1387</td>
      <td>1387</td>
      <td>51</td>
      <td>1389</td>
      <td>1316</td>
      <td>1389</td>
      <td>200</td>
      <td>200</td>
    </tr>
    <tr>
      <th>Other</th>
      <td>4</td>
      <td>4</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>4</td>
      <td>0</td>
      <td>4</td>
      <td>2</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>Portugal / Brazil</th>
      <td>1009</td>
      <td>1009</td>
      <td>1009</td>
      <td>42</td>
      <td>48</td>
      <td>42</td>
      <td>1009</td>
      <td>1009</td>
      <td>0</td>
      <td>1009</td>
      <td>874</td>
      <td>1009</td>
      <td>42</td>
      <td>42</td>
    </tr>
    <tr>
      <th>Spain / Uruguay</th>
      <td>1528</td>
      <td>1524</td>
      <td>1528</td>
      <td>468</td>
      <td>465</td>
      <td>468</td>
      <td>1528</td>
      <td>1528</td>
      <td>4</td>
      <td>1528</td>
      <td>1323</td>
      <td>1528</td>
      <td>468</td>
      <td>468</td>
    </tr>
    <tr>
      <th>U.S.A.</th>
      <td>1446</td>
      <td>1436</td>
      <td>1446</td>
      <td>223</td>
      <td>223</td>
      <td>223</td>
      <td>1443</td>
      <td>1442</td>
      <td>31</td>
      <td>1446</td>
      <td>1283</td>
      <td>1446</td>
      <td>223</td>
      <td>223</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="sidebar">
<p class="sidebar-title">On England’s Slave Ship Records</p>
<blockquote>
<div><p>For example, patterns emerge that suggest that English slave ship captains provided the most data related to the age or sex characteristics of the captives they transported and sold into slavery…The degree to which the practice of recording the sex of the passengers on board accords to national origin raises some interesting questions about the possible correlations between certain notational and national presumptions of accountability.</p>
</div></blockquote>
<p>-Jennifer Morgan, <a class="reference external" href="https://read.dukeupress.edu/history-of-the-present/article-abstract/6/2/184/153282/Accounting-for-The-Most-Excruciating-Torment?redirectedFrom=PDF">“Accounting for ‘The Most Excruciating Torment’”</a></p>
</div>
<p>We can also isolate only the “percent_women” column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;national_affiliation&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>national_affiliation
Denmark / Baltic      119
France                708
Great Britain        1123
Netherlands           200
Other                   0
Portugal / Brazil      42
Spain / Uruguay       468
U.S.A.                223
Name: percent_women, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;national_affiliation&#39;</span><span class="p">)[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>national_affiliation
Great Britain        1123
France                708
Spain / Uruguay       468
U.S.A.                223
Netherlands           200
Denmark / Baltic      119
Portugal / Brazil      42
Other                   0
Name: percent_women, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="margin sidebar">
<p class="sidebar-title">Line Breaks</p>
<p>If a line of code gets too long, you can create a line break with a backslash <code class="docutils literal notranslate"><span class="pre">\</span></code></p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;national_affiliation&#39;</span><span class="p">)[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>\
<span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Trans-Atlantic Slave Trade (Americas): </span><span class="se">\n</span><span class="s1"> Slave Voyages with Recorded Gender Information&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fdd2bda9750&gt;
</pre></div>
</div>
<img alt="../_images/Pandas-Basics-Part2_113_1.png" src="../_images/Pandas-Basics-Part2_113_1.png" />
</div>
</div>
</div>
<div class="section" id="make-time-series-with-groupby">
<h2>Make Time Series with Groupby<a class="headerlink" href="#make-time-series-with-groupby" title="Permalink to this headline">¶</a></h2>
<p>To make a time series, we would typically want to convert our date column into datetime values rather than integers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="p">[</span><span class="s1">&#39;year_of_arrival&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;int64&#39;)
</pre></div>
</div>
</div>
</div>
<p>Datetime values allow us to do special things that we can’t do with regular integers and floats, such as extract just the year, month, week, day, or second from any date or aggregate based on any of the above.</p>
<p>Since we’re only working with year information, however, we can make some simple time series plots just by grouping by the year column and performing calculations on those year groupings, such as calculating the average percentage of enslaved women aboard the voyages over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year_of_arrival&#39;</span><span class="p">)[</span><span class="s1">&#39;percent_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Trans-Atlantic Slave Trade (Americas):</span><span class="se">\n</span><span class="s2">Average Percentage of Enslaved Women on Voyages&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fdd2beb51d0&gt;
</pre></div>
</div>
<img alt="../_images/Pandas-Basics-Part2_118_1.png" src="../_images/Pandas-Basics-Part2_118_1.png" />
</div>
</div>
<p>We can do the same thing with the total number of women, this time taking the sum for every year.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year_of_arrival&#39;</span><span class="p">)[</span><span class="s1">&#39;total_women&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Trans-Atlantic Slave Trade (Americas):</span><span class="se">\n</span><span class="s2">Total Number of Enslaved Women on Voyages&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fdd2c112310&gt;
</pre></div>
</div>
<img alt="../_images/Pandas-Basics-Part2_120_1.png" src="../_images/Pandas-Basics-Part2_120_1.png" />
</div>
</div>
<p>We can plot multiple columns at the same time by using two square brackets. For example, we can compare the total number of women and men aboard the voyages.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year_of_arrival&#39;</span><span class="p">)[[</span><span class="s1">&#39;total_women&#39;</span><span class="p">,</span> <span class="s1">&#39;total_men&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Trans-Atlantic Slave Trade (Americas):</span><span class="se">\n</span><span class="s2">Total Number of Enslaved Women and Men on Voyages&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fdd2c0a6550&gt;
</pre></div>
</div>
<img alt="../_images/Pandas-Basics-Part2_122_1.png" src="../_images/Pandas-Basics-Part2_122_1.png" />
</div>
</div>
<p>Finally, we can also add in the total number of enslaved people who embarked on the voyages, offering a perspective of how much gender information we have about the voyages compared to the total number of voyages.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">slave_voyages_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year_of_arrival&#39;</span><span class="p">)[[</span><span class="s1">&#39;total_women&#39;</span><span class="p">,</span>  <span class="s1">&#39;total_men&#39;</span><span class="p">,</span> <span class="s1">&#39;total_embarked&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Trans-Atlantic Slave Trade (Americas):</span><span class="se">\n</span><span class="s1">Total Number of Enslaved People on Voyages&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fdd2c448f90&gt;
</pre></div>
</div>
<img alt="../_images/Pandas-Basics-Part2_124_1.png" src="../_images/Pandas-Basics-Part2_124_1.png" />
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Data-Analysis"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="Pandas-Basics-Part1.html" title="previous page">Pandas Basics — Part 1</a>
    <a class='right-next' id="next-link" href="Pandas-Basics-Part3.html" title="next page">Pandas Basics — Part 3</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By <a href="https://melaniewalsh.org/">Melanie Walsh</a><br/>
        
            &copy; Copyright 2021.<br/>
          <div class="extra_footer">
            <div>
<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> This book is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License</a>. The code is licensed under a <a href="https://choosealicense.com/licenses/gpl-3.0/#">GNU General Public License v3.0</a>.
</div>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-86905362-3', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    
  </body>
</html>